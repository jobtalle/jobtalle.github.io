<!DOCTYPE html><html lang="en"><head><title>Koi farm</title><style>body{margin:0;overscroll-behavior:contain}#wrapper{position:fixed;width:100%;height:100%;overflow:hidden}:root{--a:#192f3e;--b:#6cb4a9;--c:#def6ea;--d:#a9dbd1;--e:#D5C28E;--f:#645154;--g:#402F31;--h:#bdd6e2;--i:#ccd0cf;--j:#fffdee;--k:#f6f6f6;--l:#e9ecec;--m:#deeef6;--n:#9ea6bf;--o:#8ea451;--p:#657635;--q:#a09e7a;--r:#eceaac;--s:#E1E0C4;--t:#414345;--u:#d09838;--v:#C84B2F;--w:#BE6D42;--x:var(--s)}</style><meta charset="utf-8"><meta name="mobile-web-app-capable" content="yes"></head><body><div id="wrapper"><canvas id="renderer"></canvas></div><script>var d;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function n(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ca(a){if(!(a instanceof Array)){a=n(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ea(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var fa=ea(this);function ha(a,b){if(b){var c=fa;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&da(c,a,{configurable:!0,writable:!0,value:b})}}ha("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(f||"")+"_"+e++,f)}function c(f,g){this.Yg=f;da(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.Yg};var e=0;return b});ha("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var e=fa[b[c]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&da(e.prototype,a,{configurable:!0,writable:!0,value:function(){return ia(aa(this))}})}return a});function ia(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}function ja(a,b){a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ha("Array.prototype.values",function(a){return a?a:function(){return ja(this,function(b,c){return c})}});ha("Array.prototype.fill",function(a){return a?a:function(b,c,e){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==e||e>f)e=f;e=Number(e);0>e&&(e=Math.max(0,f+e));for(c=Number(c||0);c<e;c++)this[c]=b;return this}});ha("Math.fround",function(a){if(a)return a;if("function"!==typeof Float32Array)return function(c){return c};var b=new Float32Array(1);return function(c){b[0]=c;return b[0]}});ha("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});function p(a,b){this.x=void 0===a?0:a;this.y=void 0===b?0:b}d=p.prototype;d.v=function(a){u(a,this.x);u(a,this.y)};d.aa=function(a){this.x=w(a);this.y=w(a);return this};d.B=function(){return new p(this.x,this.y)};d.set=function(a){this.x=a.x;this.y=a.y;return this};d.add=function(a){this.x+=a.x;this.y+=a.y;return this};function na(a,b){a.x-=b.x;a.y-=b.y;return a}d.multiply=function(a){this.x*=a;this.y*=a;return this};d.bc=function(a){return this.multiply(1/a)};d.Vc=function(a){return this.x*a.x+this.y*a.y};d.length=function(){return Math.sqrt(this.Vc(this))};d.normalize=function(){var a=this.length();if(0!==a)return this.bc(a);this.x=1;this.y=0;return this};d.angle=function(){return Math.atan2(this.y,this.x)};d.Hg=function(a){return this.x===a.x&&this.y===a.y};function oa(a,b){a.x=Math.cos(b);a.y=Math.sin(b);return a}function qa(a,b,c){this.x=void 0===a?0:a;this.y=void 0===b?0:b;this.z=void 0===c?0:c}d=qa.prototype;d.vg=new qa(0,1,0);d.Pj=new qa(.1,1,0);d.v=function(a){u(a,this.x);u(a,this.y);u(a,this.z)};d.aa=function(a){this.x=w(a);this.y=w(a);this.z=w(a);return this};d.B=function(){return new qa(this.x,this.y,this.z)};d.ba=function(a,b){return new qa(this.x+(a.x-this.x)*b,this.y+(a.y-this.y)*b,this.z+(a.z-this.z)*b)};function ra(a){return a.Hg(a.vg)?sa(a,a.Pj).normalize():sa(a,a.vg).normalize()}d.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};d.multiply=function(a){this.x*=a;this.y*=a;this.z*=a;return this};d.bc=function(a){return this.multiply(1/a)};d.Vc=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};d.length=function(){return Math.sqrt(this.Vc(this))};d.Hg=function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z};d.normalize=function(){var a=this.length();if(0!==a)return this.bc(a);this.x=1;this.y=this.z=0;return this};function sa(a,b){return new qa(a.y*b.z-b.y*a.z,a.z*b.x-b.z*a.x,a.x*b.y-b.x*a.y)}function ta(a){var b=new qa,c=Math.acos(2*x(a)-1)-.5*Math.PI;a=2*Math.PI*x(a);b.x=Math.cos(c)*Math.cos(a);b.y=Math.cos(c)*Math.sin(a);b.z=Math.sin(c);return b}function ya(a,b,c,e){this.r=a;this.A=b;this.w=c;this.sb=void 0===e?1:e}var za=new ya(1,1,1);ya.prototype.B=function(){return new ya(this.r,this.A,this.w,this.sb)};ya.prototype.multiply=function(a){this.r*=a;this.A*=a;this.w*=a;this.sb*=a;return this};function A(a){a=getComputedStyle(document.body).getPropertyValue(a).trim();if("#"===a.charAt(0))return a=parseInt(a.substr(1),16),a&4278190080?new ya((a>>24&255)/255,(a>>16&255)/255,(a>>8&255)/255,(a&255)/255):new ya((a>>16&255)/255,(a>>8&255)/255,(a&255)/255)}function B(a,b,c,e,f,g){g=void 0===g?null:g;var h=a.createShader(a.VERTEX_SHADER),k=a.createShader(a.FRAGMENT_SHADER);this.a=a;this.g=a.createProgram();a.shaderSource(h,b);a.compileShader(h);a.shaderSource(k,c);a.compileShader(k);a.attachShader(this.g,h);a.attachShader(this.g,k);a.linkProgram(this.g);a.detachShader(this.g,h);a.detachShader(this.g,k);a.deleteShader(h);a.deleteShader(k);b=n(f);for(c=b.next();!c.done;c=b.next())c=c.value,this["u"+c.charAt(0).toUpperCase()+c.slice(1)]=a.getUniformLocation(this.g,c);e=n(e);for(b=e.next();!b.done;b=e.next())b=b.value,this["a"+b.charAt(0).toUpperCase()+b.slice(1)]=a.getAttribLocation(this.g,b);if(g)for(this.use(),g=n(g),e=g.next();!e.done;e=g.next())e=e.value,a["uniform"+e.values.length.toString()+e.type].apply(a,[a.getUniformLocation(this.g,e.name)].concat(ca(e.values)))}function D(a,b,c){this.name=a;this.type=b;this.values=c}B.prototype.use=function(){this.a.useProgram(this.g)};B.prototype.f=function(){this.a.deleteProgram(this.g)};function Aa(a,b){this.slot=a;this.ma=a.y;this.la=this.slot.y+b.y;this.sc=a.x;this.Qa=this.rc=a.x+b.x;this.mb=this.rc+b.x/Ba.prototype.Ua}function Ia(a,b,c){b=Math.ceil(b*this.ia);c=Math.ceil(c*this.ia);this.a=a;this.Na=new E(a,b,c,a.RGBA,!1);this.Jg=new E(a,b,c,a.RGBA,!1)}Ia.prototype.ia=26;Ia.prototype.target=function(){this.Na.target();this.a.clearColor(0,0,0,0);this.a.clear(this.a.COLOR_BUFFER_BIT)};Ia.prototype.blur=function(a){var b=this.Na,c=this.Jg;c.target();a.Hb.use();a.a.b.bindVertexArrayOES(a.sf);a.a.uniform2f(a.Hb.uTargetSize,b.width,b.height);a.a.uniform2f(a.Hb.uDirection,1,0);a.a.activeTexture(a.a.TEXTURE0);a.a.bindTexture(a.a.TEXTURE_2D,b.K);a.a.texParameteri(a.a.TEXTURE_2D,a.a.TEXTURE_MIN_FILTER,a.a.NEAREST);a.a.texParameteri(a.a.TEXTURE_2D,a.a.TEXTURE_MAG_FILTER,a.a.NEAREST);Ja(a);b.target();a.a.uniform2f(a.Hb.uDirection,0,1);a.a.bindTexture(a.a.TEXTURE_2D,c.K);a.a.texParameteri(a.a.TEXTURE_2D,a.a.TEXTURE_MIN_FILTER,a.a.NEAREST);a.a.texParameteri(a.a.TEXTURE_2D,a.a.TEXTURE_MAG_FILTER,a.a.NEAREST);Ja(a)};Ia.prototype.f=function(){this.Na.f();this.Jg.f()};function E(a,b,c,e,f,g){this.a=a;this.width=b;this.height=c;this.Wd=a.createFramebuffer();this.K=this.createTexture(b,c,e,f,void 0===g?null:g);f?(a=this.a.createRenderbuffer(),this.a.bindRenderbuffer(this.a.RENDERBUFFER,a),this.a.renderbufferStorage(this.a.RENDERBUFFER,this.a.DEPTH_COMPONENT16,b,c),b=a):b=null;this.depth=b;b=this.K;c=this.depth;this.a.bindFramebuffer(this.a.FRAMEBUFFER,this.Wd);this.a.framebufferTexture2D(this.a.FRAMEBUFFER,this.a.COLOR_ATTACHMENT0,this.a.TEXTURE_2D,b,0);null!==c&&this.a.framebufferRenderbuffer(this.a.FRAMEBUFFER,this.a.DEPTH_ATTACHMENT,this.a.RENDERBUFFER,c)}E.prototype.target=function(){this.a.bindFramebuffer(this.a.FRAMEBUFFER,this.Wd);this.a.viewport(0,0,this.width,this.height)};E.prototype.createTexture=function(a,b,c,e,f){e=this.a.createTexture();this.a.bindTexture(this.a.TEXTURE_2D,e);null!==f&&(this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,f),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,f));this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE);this.a.texImage2D(this.a.TEXTURE_2D,0,c,a,b,0,c,this.a.UNSIGNED_BYTE,null);return e};function Ka(a){a.a.deleteFramebuffer(a.Wd);null!==a.depth&&a.a.deleteRenderbuffer(a.depth);return a.K}E.prototype.f=function(){this.a.deleteFramebuffer(this.Wd);this.a.deleteTexture(this.K);null!==this.depth&&this.a.deleteRenderbuffer(this.depth)};function Pa(a,b,c,e,f,g,h){this.Ba=0;this.width=Math.ceil(c*f);this.height=Math.ceil(e*f);this.Ca=new Qa(b.a,b.g,this.width,this.height,f);this.lb=[new E(a,this.width,this.height,h,!1,a.NEAREST),new E(a,this.width,this.height,h,!1,a.NEAREST)];a.clearColor(g.r,g.A,g.w,g.sb);b=n(this.lb);for(c=b.next();!c.done;c=b.next())c.value.target(),a.clear(a.COLOR_BUFFER_BIT)}Pa.prototype.f=function(){for(var a=n(this.lb),b=a.next();!b.done;b=a.next())b.value.f();this.Ca.f()};function Ra(a,b,c,e){Pa.call(this,a,b,c,e,this.ia,new ya(.5,.5,0),a.RGB)}Ra.prototype=Object.create(Pa.prototype);Ra.prototype.ia=17;Ra.prototype.Ha=function(a,b,c,e){this.Ca.Ha(a,b,c,0,0,e)};function Sa(a,b,c,e,f){Pa.call(this,a,b,c,e,this.ia,new ya(.5,0,0,.5),a.RGBA);this.a=a;this.pc=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.pc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.pixelStorei(a.UNPACK_ALIGNMENT,1);a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,this.width,this.height,0,a.LUMINANCE,a.UNSIGNED_BYTE,new Uint8Array(Ta(this,this.width*this.height,f)));a.pixelStorei(a.UNPACK_ALIGNMENT,4)}Sa.prototype=Object.create(Pa.prototype);Sa.prototype.ia=4;Sa.prototype.qg=.2;Sa.prototype.Dj=.4;function Ta(a,b,c){for(var e=Array(b),f=0;f<b;++f)e[f]=Math.floor(256*(a.qg+(a.Dj-a.qg)*x(c)));return e}Sa.prototype.f=function(){Pa.prototype.f.call(this);this.a.deleteTexture(this.pc)};function Ua(a,b,c,e,f,g,h,k,m){g=void 0===g?null:g;h=void 0===h?null:h;k=void 0===k?null:k;m=void 0===m?null:m;this.width=a;this.height=b;this.jl=c;this.R=[];b=n(e);for(a=b.next();!a.done;a=b.next())this.R.push(a.value|this.Uf);f=n(f);for(a=f.next();!a.done;a=f.next())this.R.push(a.value|this.Vf);if(g)for(g=n(g),a=g.next();!a.done;a=g.next())this.R.push(a.value|this.Sf);if(h)for(h=n(h),a=h.next();!a.done;a=h.next())this.R.push(a.value|this.Tf);if(k)for(k=n(k),a=k.next();!a.done;a=k.next())this.R.push(a.value|this.Wf);if(m)for(m=n(m),a=m.next();!a.done;a=m.next())this.R.push(a.value|this.Xf);this.R.sort(function(l,r){return(l&255)-(r&255)})}d=Ua.prototype;d.Uf=256;d.Vf=512;d.Sf=1024;d.Tf=2048;d.Wf=4096;d.Xf=8192;d.apply=function(a){for(var b=a.length,c=2/this.width,e=-2/this.height,f=1/this.width,g=1/this.height,h=0;h<b;h+=this.jl)for(var k=n(this.R),m=k.next();!m.done;m=k.next()){m=m.value;var l=m&255;switch(m&65280){case this.Uf:a[h+l]=a[h+l]*c-1;break;case this.Vf:a[h+l]=a[h+l]*e+1;break;case this.Sf:a[h+l]*=c;break;case this.Tf:a[h+l]*=e;break;case this.Wf:a[h+l]*=f;break;case this.Xf:a[h+l]*=g}}};function Va(a,b){a=void 0===a?[]:a;b=void 0===b?[]:b;this.ya=a;this.R=b}function Wa(a,b,c){c=void 0===c?!1:c;this.a=a;this.Xd=c?a.UNSIGNED_INT:a.UNSIGNED_SHORT;this.ya=a.createBuffer();this.R=a.createBuffer();this.Ud=b.R.length;a.b.bindVertexArrayOES(null);a.bindBuffer(a.ARRAY_BUFFER,this.ya);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b.ya),a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.R);c?a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint32Array(b.R),a.STATIC_DRAW):a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(b.R),a.STATIC_DRAW)}Wa.prototype.f=function(){this.a.deleteBuffer(this.ya);this.a.deleteBuffer(this.R)};function F(a,b){this.a=a;this.kl=b;this.Ka=null;this.Xd=this.Ud=-1}function G(a,b){this.b=a;this.ik=b}G.prototype.ab=function(a,b){a.b.bindVertexArrayOES(this.b);b.a.bindBuffer(b.a.ARRAY_BUFFER,b.ya);b.a.bindBuffer(b.a.ELEMENT_ARRAY_BUFFER,b.R);this.ik()};F.prototype.Ga=function(a){this.Ud=a.Ud;this.Xd=a.Xd;for(var b=n(this.kl),c=b.next();!c.done;c=b.next())c.value.ab(this.a,a)};function Ja(a){a.a.drawElements(a.a.TRIANGLES,a.Ud,a.Xd,0)}function Xa(a,b){this.a=a;this.tk=1/b;this.Bg=a.createBuffer();this.zg=a.createBuffer();this.rf=this.Ag=this.Cg=0;this.sa=this.ta=this.nb;this.Ie=this.Je=this.za=this.vb=0;this.ub=new Float32Array(this.ta);this.tb=new Uint16Array(this.sa)}d=Xa.prototype;d.nb=512;d.mg=Xa.prototype.nb<<2;d.ng=16;d.Ya=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=b.length;if(this.vb+c>this.ta){var e=this.ub;this.ta+=this.nb;this.ub=new Float32Array(this.ta);this.ub.set(e,0)}this.ub.set(b,this.vb);this.vb+=c};d.na=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=b.length;if(this.za+c>this.sa){var e=this.tb;this.sa+=this.nb;this.tb=new Uint16Array(this.sa);this.tb.set(e,0)}this.tb.set(b,this.za);this.za+=c};d.ec=function(){return this.vb*this.tk};d.bind=function(){this.a.bindBuffer(this.a.ARRAY_BUFFER,this.Bg);this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.zg)};d.upload=function(){this.rf=this.za;0!==this.za&&(this.bind(),this.ta>this.Cg?(this.a.bufferData(this.a.ARRAY_BUFFER,this.ub,this.a.DYNAMIC_DRAW),this.Cg=this.ta):this.a.bufferSubData(this.a.ARRAY_BUFFER,0,this.ub),this.sa>this.Ag?(this.a.bufferData(this.a.ELEMENT_ARRAY_BUFFER,this.tb,this.a.DYNAMIC_DRAW),this.Ag=this.sa):this.a.bufferSubData(this.a.ELEMENT_ARRAY_BUFFER,0,this.tb),this.ta>this.vb+this.mg?++this.Je===this.ng&&(this.ta-=this.nb,this.ub=new Float32Array(this.ta),this.Je=0):this.Je=0,this.sa>this.za+this.mg?++this.Ie===this.ng&&(this.sa-=this.nb,this.tb=new Uint16Array(this.sa),this.Ie=0):this.Ie=0,this.vb=this.za=0)};d.C=function(){0!==this.rf&&this.a.drawElements(this.a.TRIANGLES,this.rf,this.a.UNSIGNED_SHORT,0)};d.f=function(){this.a.deleteBuffer(this.Bg);this.a.deleteBuffer(this.zg)};function Ya(a,b){this.a=a;this.K=this.createTexture(b)}Ya.prototype.Ld=128;Ya.prototype.createTexture=function(a){for(var b=this.a.createTexture(),c=Array(this.Ld*this.Ld),e=0;e<c.length;++e)c[e]=Math.floor(256*x(a));this.a.bindTexture(this.a.TEXTURE_2D,b);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.REPEAT);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.REPEAT);this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.LUMINANCE,this.Ld,this.Ld,0,this.a.LUMINANCE,this.a.UNSIGNED_BYTE,new Uint8Array(c));return b};Ya.prototype.f=function(){this.a.deleteTexture(this.K)};function Za(a,b,c,e,f,g,h,k){this.a=a;a=Math.ceil(b*this.ia);b=Math.ceil(c*this.ia);c=new E(this.a,a,b,this.a.RGBA,!0);a=new E(this.a,a,b,this.a.RGBA,!0);c.target();this.a.clearColor(this.Cd.r,this.Cd.A,this.Cd.w,this.Cd.sb);this.a.clear(this.a.COLOR_BUFFER_BIT);this.a.enable(this.a.DEPTH_TEST);$a(f);$a(g);this.a.disable(this.a.DEPTH_TEST);a.target();h.Ib.use();h.a.b.bindVertexArrayOES(h.tf);h.a.uniform2f(h.Ib.uTargetSize,c.width,c.height);h.a.uniform2f(h.Ib.uDirection,1,0);h.a.activeTexture(h.a.TEXTURE0);h.a.bindTexture(h.a.TEXTURE_2D,c.K);h.a.texParameteri(h.a.TEXTURE_2D,h.a.TEXTURE_MIN_FILTER,h.a.NEAREST);h.a.texParameteri(h.a.TEXTURE_2D,h.a.TEXTURE_MAG_FILTER,h.a.NEAREST);h.a.drawArrays(h.a.TRIANGLE_FAN,0,4);c.target();h.a.uniform2f(h.Ib.uDirection,0,1);h.a.bindTexture(h.a.TEXTURE_2D,a.K);h.a.texParameteri(h.a.TEXTURE_2D,h.a.TEXTURE_MIN_FILTER,h.a.NEAREST);h.a.texParameteri(h.a.TEXTURE_2D,h.a.TEXTURE_MAG_FILTER,h.a.NEAREST);h.a.drawArrays(h.a.TRIANGLE_FAN,0,4);this.a.enable(this.a.BLEND);this.a.blendFunc(this.a.ZERO,this.a.SRC_COLOR);k.C(e.K);this.a.disable(this.a.BLEND);this.a.bindTexture(this.a.TEXTURE_2D,c.K);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR);a.f();this.K=Ka(c)}Za.prototype.ia=17;Za.prototype.Cd=A("--h");Za.prototype.f=function(){this.a.deleteTexture(this.K)};function ab(a,b,c,e,f,g){this.a=a;a=Math.ceil(b*this.ia);b=Math.ceil(c*this.ia);c=new E(this.a,a,b,this.a.RGBA,!1,this.a.LINEAR);c.target();this.a.clearColor(0,0,0,0);this.a.clear(this.a.COLOR_BUFFER_BIT);var h=this.Rh;f.ld.use();f.a.b.bindVertexArrayOES(f.uf);f.a.uniform4f(f.ld.uColor,h.r,h.A,h.w,h.sb);Ja(f);f=this.Sh;e.La.use();e.a.b.bindVertexArrayOES(e.tc);e.a.uniform4f(e.La.uColor,f.r,f.A,f.w,f.sb);Ja(e);e=c.K;f=Math.round(this.ia*this.Uj);h=[new E(g.a,a,b,g.a.RGBA,!1,g.a.NEAREST),new E(g.a,a,b,g.a.RGBA,!1,g.a.NEAREST)];var k=0;g.g.use();g.a.b.bindVertexArrayOES(g.b);g.a.uniform2f(g.g.uSize,a,b);g.a.uniform1f(g.g.uRange,1/f);for(a=0;a<f;++a)h[k].target(),g.a.activeTexture(g.a.TEXTURE0),0===a?g.a.bindTexture(g.a.TEXTURE_2D,e):g.a.bindTexture(g.a.TEXTURE_2D,h[1-k].K),g.a.drawArrays(g.a.TRIANGLE_FAN,0,4),k=1-k;h[k].f();g.a.bindTexture(g.a.TEXTURE_2D,h[1-k].K);g.a.texParameteri(g.a.TEXTURE_2D,g.a.TEXTURE_MIN_FILTER,g.a.LINEAR);g.a.texParameteri(g.a.TEXTURE_2D,g.a.TEXTURE_MAG_FILTER,g.a.LINEAR);g=Ka(h[1-k]);c.f();this.K=g}d=ab.prototype;d.ia=Za.prototype.ia;d.Uj=.24;d.Rh=new ya(1,1,1,1);d.Sh=new ya(0,0,0,0);d.f=function(){this.a.deleteTexture(this.K)};function bb(a){this.g=new B(a,this.I,this.G,["position"],[])}bb.prototype.f=function(){this.g.f()};bb.prototype.I="#version 100\nattribute vec2 position;varying vec2 iUv;void main(){iUv=position*.5+.5;gl_Position=vec4(position,.0,1.);}";bb.prototype.G="#version 100\nuniform sampler2D source;varying mediump vec2 iUv;void main(){gl_FragColor=texture2D(source,iUv);}";function Ba(a,b){var c=cb.prototype.pe;this.a=a;this.kc=b;this.mf=new p;this.Ke=null;a=Math.ceil(Math.sqrt(Math.ceil(c/(this.Ua+1))));b=a*this.Y*(this.Ua+1);c=new E(this.a,b,b,this.a.RGBA,!1,this.a.LINEAR);this.mf.x=this.Y*this.Ua/b;this.mf.y=this.Y/b;for(var e=[],f=0;f<a;++f)for(var g=0;g<a;++g)for(var h=0;h<=this.Ua;++h)e.push(new p(g*(this.Ua+1)*this.Y/b,(f*(this.Ua+1)+h)*this.Y/b));this.Ke=e;this.Na=c}Ba.prototype.Y=64;Ba.prototype.Ua=4;Ba.prototype.write=function(a,b){a.region=new Aa(this.Ke.pop(),this.mf);this.Na.target();this.kc.write(a,b,a.region,1/this.Na.width)};Ba.prototype.f=function(){this.Na.f()};function db(a){var b=this;this.g=new B(a,this.VERTEX_SHADER,this.FRAGMENT_SHADER,["position","depth"],["meter"],[new D("shadowDepth","f",[this.pj])]);this.b=a.b.createVertexArrayOES();F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,2,a.FLOAT,!1,16,0);a.enableVertexAttribArray(b.g.aDepth);a.vertexAttribPointer(b.g.aDepth,2,a.FLOAT,!1,16,8)})])}db.prototype=Object.create(F.prototype);d=db.prototype;d.VERTEX_SHADER="#version 100\nattribute vec2 position;attribute vec2 depth;varying vec2 iDepth;varying vec2 iUv;void main(){iDepth=depth;iUv=.5*position+.5;gl_Position=vec4(position,.0,1.);}";d.FRAGMENT_SHADER="#version 100\nuniform sampler2D source;uniform mediump float meter;uniform mediump float shadowDepth;varying mediump vec2 iDepth;varying mediump vec2 iUv;void main(){mediump float depthFactor=iDepth.y*(.5-.5*cos(3.141592*sqrt(iDepth.x)));mediump float depth=depthFactor*meter*shadowDepth;gl_FragColor=texture2D(source,iUv+vec2(depth*.5,depth));}";d.pj=.35;d.C=function(a,b,c){this.g.use();this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.Na.K);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR);this.a.uniform1f(this.g.uMeter,c/b);this.a.b.bindVertexArrayOES(this.b);this.a.enable(this.a.BLEND);this.a.blendFunc(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA);Ja(this);this.a.disable(this.a.BLEND)};d.f=function(){this.g.f();this.a.b.deleteVertexArrayOES(this.b)};function eb(a){this.a=a;this.buffer=a.createBuffer();this.La=fb.prototype.createShader(a);this.tc=gb(this,a,this.La);this.$e=hb.prototype.createShader(a);this.Ug=gb(this,a,this.$e);this.Xe=kb.prototype.createShader(a);this.Qg=gb(this,a,this.Xe);this.af=lb.prototype.createShader(a);this.Vg=gb(this,a,this.af);this.Ye=mb.prototype.createShader(a);this.Sg=gb(this,a,this.Ye);this.Ze=nb.prototype.createShader(a);this.Tg=gb(this,a,this.Ze);this.We=new ob;a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,64,a.DYNAMIC_DRAW)}function gb(a,b,c){var e=b.b.createVertexArrayOES();b.b.bindVertexArrayOES(e);b.bindBuffer(b.ARRAY_BUFFER,a.buffer);b.enableVertexAttribArray(c.aPosition);b.vertexAttribPointer(c.aPosition,2,b.FLOAT,!1,16,0);void 0!==c.aUv&&(b.enableVertexAttribArray(c.aUv),b.vertexAttribPointer(c.aUv,2,b.FLOAT,!1,16,8));return e}function pb(a,b,c,e,f){f=void 0===f?null:f;c.use();b.ab(a.a,c,f);a.a.b.bindVertexArrayOES(e);void 0!==c.uSize&&a.a.uniform2f(c.uSize,Ba.prototype.Ua,1);a.a.drawArrays(a.a.TRIANGLE_FAN,0,4)}eb.prototype.write=function(a,b,c,e){var f=new qb(this.We.ua);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,b.K);this.a.b.bindVertexArrayOES(this.b);this.a.bindBuffer(this.a.ARRAY_BUFFER,this.buffer);this.a.bufferSubData(this.a.ARRAY_BUFFER,0,new Float32Array([2*(c.sc+e)-1,2*(c.ma+e)-1,0,0,2*(c.sc+e)-1,2*(c.la-e)-1,0,1,2*(c.mb-e)-1,2*(c.la-e)-1,1,1,2*(c.mb-e)-1,2*(c.ma+e)-1,1,0]));pb(this,a.ua,this.La,this.tc,f.next(a.ua));this.a.bufferSubData(this.a.ARRAY_BUFFER,0,new Float32Array([2*(c.sc+e)-1,2*(c.ma+e)-1,0,0,2*(c.sc+e)-1,2*(c.la-e)-1,0,1,2*c.rc-1,2*(c.la-e)-1,1,1,2*c.rc-1,2*(c.ma+e)-1,1,0]));this.a.enable(this.a.BLEND);this.a.blendFunc(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA);b=n(a.Da);for(var g=b.next();!g.done;g=b.next()){g=g.value;var h=f.next(g);if(!h)break;switch(g.id){case hb.prototype.W:pb(this,g,this.$e,this.Ug,h);break;case kb.prototype.W:pb(this,g,this.Xe,this.Qg,h);break;case lb.prototype.W:pb(this,g,this.af,this.Vg,h)}}this.a.blendFunc(this.a.ZERO,this.a.SRC_COLOR);pb(this,a.ib,this.Ye,this.Sg);this.a.bufferSubData(this.a.ARRAY_BUFFER,0,new Float32Array([2*c.Qa-1,2*(c.ma+e)-1,0,0,2*c.Qa-1,2*(c.la-e)-1,0,1,2*(c.mb-e)-1,2*(c.la-e)-1,1,1,2*(c.mb-e)-1,2*(c.ma+e)-1,1,0]));pb(this,a.sd,this.Ze,this.Tg);this.a.disable(this.a.BLEND)};eb.prototype.f=function(){this.La.f();this.a.b.deleteVertexArrayOES(this.tc);this.$e.f();this.a.b.deleteVertexArrayOES(this.Ug);this.Xe.f();this.a.b.deleteVertexArrayOES(this.Qg);this.af.f();this.a.b.deleteVertexArrayOES(this.Vg);this.Ye.f();this.a.b.deleteVertexArrayOES(this.Sg);this.Ze.f();this.a.b.deleteVertexArrayOES(this.Tg);this.a.deleteBuffer(this.buffer)};function rb(a){var b=this;this.g=new B(a,this.I,this.G,["position","depth"],["scale"],[new D("colorDeep","f",[this.je.r,this.je.A,this.je.w]),new D("colorShallow","f",[this.ne.r,this.ne.A,this.ne.w])]);this.b=a.b.createVertexArrayOES();F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,2,a.FLOAT,!1,16,0);a.enableVertexAttribArray(b.g.aDepth);a.vertexAttribPointer(b.g.aDepth,2,a.FLOAT,!1,16,8)})])}rb.prototype=Object.create(F.prototype);d=rb.prototype;d.je=A("--a");d.ne=A("--b");d.I="#version 100\nattribute vec2 position;attribute vec2 depth;varying vec2 iDepth;void main(){iDepth=depth;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\n uniform sampler2D noise;mediump float random2(mediump vec2 x){return texture2D(noise,x*.011).r;}mediump float random3(mediump vec3 x){return texture2D(noise,x.xy*.011-x.z*.017).r;}mediump float interpolate(mediump float a,mediump float b,mediump float c,mediump float d,mediump float x){mediump float p=(d-c)-(a-b);return x*(x*(x*p+((a-b)-p))+(c-a))+b;}mediump float sampleX(highp vec2 at){highp float floored=floor(at.x);return interpolate(random2(vec2(floored-1.,at.y)),random2(vec2(floored,at.y)),random2(vec2(floored+1.,at.y)),random2(vec2(floored+2.,at.y)),at.x-floored)*.5+.25;}mediump float cubicNoise(highp vec2 at){highp float floored=floor(at.y);return interpolate(sampleX(vec2(at.x,floored-1.)),sampleX(vec2(at.x,floored)),sampleX(vec2(at.x,floored+1.)),sampleX(vec2(at.x,floored+2.)),at.y-floored);}uniform mediump float scale;uniform lowp vec3 colorDeep;uniform lowp vec3 colorShallow;varying mediump vec2 iDepth;void main(){lowp float noise=pow(random2(gl_FragCoord.xy),9.);lowp float hill=cubicNoise(1.5*gl_FragCoord.xy/scale);lowp vec3 color=mix(colorShallow,colorDeep,iDepth.y*(.5-.5*cos(3.141592*sqrt(iDepth.x))));gl_FragColor=vec4(color*(noise*.3*hill+.85),1.);}";d.write=function(a,b){this.g.use();this.a.b.bindVertexArrayOES(this.b);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.K);this.a.uniform1f(this.g.uScale,b);Ja(this)};d.f=function(){this.a.b.deleteVertexArrayOES(this.b);this.g.f()};function sb(a){var b=this;this.g=new B(a,this.I,this.G,["position"],["size"],[new D("damping","f",[this.oe])]);this.b=a.b.createVertexArrayOES();F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,2,a.FLOAT,!1,8,0)})])}sb.prototype=Object.create(F.prototype);d=sb.prototype;d.oe=.997;d.I="#version 100\nattribute vec2 position;varying vec2 iUv;void main(){iUv=.5*position+.5;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform sampler2D source;uniform mediump vec2 size;uniform mediump float damping;varying mediump vec2 iUv;void main(){mediump vec2 step=1./size;mediump vec3 state=texture2D(source,iUv).rgb;mediump float hLeft=texture2D(source,vec2(iUv.x-step.x,iUv.y)).r;mediump float hRight=texture2D(source,vec2(iUv.x+step.x,iUv.y)).r;mediump float hUp=texture2D(source,vec2(iUv.x,iUv.y-step.y)).r;mediump float hDown=texture2D(source,vec2(iUv.x,iUv.y+step.y)).r;mediump float momentum=(state.g+state.b)*2.-1.;mediump float newHeight=(hLeft+hUp+hRight+hDown)-2.;gl_FragColor=vec4(((newHeight-momentum)*damping)*.5+.5,state.r,.0,.0);}";d.bf=function(a,b){this.g.use();this.a.b.bindVertexArrayOES(this.b);a.Ba=1-a.Ba;a.lb[a.Ba].target();this.a.clearColor(.5,.5,0,0);this.a.clear(this.a.COLOR_BUFFER_BIT);this.a.uniform2f(this.g.uSize,a.width,a.height);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.lb[1-a.Ba].K);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST);Ja(this);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR);tb(b,a.Ca)};d.f=function(){this.g.f();this.a.b.deleteVertexArrayOES(this.b)};function ub(a){var b=this;this.g=new B(a,this.I,this.G,["position"],"depth height size waterSize wavePhase phase time filter".split(" "),[new D("background","i",[0]),new D("reflections","i",[1]),new D("water","i",[2]),new D("colorFilter","f",[this.ke.r,this.ke.A,this.ke.w]),new D("colorHighlight","f",[this.me.r,this.me.A,this.me.w])]);this.ld=new B(a,this.nj,this.hj,["position"],["color"]);this.b=a.b.createVertexArrayOES();this.uf=a.b.createVertexArrayOES();this.filter=za;F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,2,a.FLOAT,!1,8,0)}),new G(this.uf,function(){a.enableVertexAttribArray(b.ld.aPosition);a.vertexAttribPointer(b.ld.aPosition,2,a.FLOAT,!1,8,0)})])}ub.prototype=Object.create(F.prototype);d=ub.prototype;d.DEPTH=.2;d.si=.24;d.wg=2.4;d.ke=A("--c");d.me=A("--d");d.I="#version 100\nattribute vec2 position;varying vec2 iUv;void main(){iUv=.5*position+.5;gl_Position=vec4(position,iUv.y,1.);}";d.nj="#version 100\nattribute vec2 position;void main(){gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform sampler2D background;uniform sampler2D reflections;uniform sampler2D water;uniform sampler2D random;uniform lowp vec3 colorFilter;uniform lowp vec3 colorHighlight;uniform lowp vec2 size;uniform lowp vec2 wavePhase;uniform lowp float depth;uniform lowp float height;uniform lowp vec2 waterSize;uniform lowp float phase;uniform lowp float time;uniform lowp vec3 filter;varying lowp vec2 iUv;lowp float get(mediump vec2 delta){lowp vec2 uv=iUv+delta/waterSize;lowp vec2 sample=texture2D(water,uv).gr;return(mix(sample.x,sample.y,time)-.5)*3.7;}void main(){lowp float dyx=get(vec2(1.,.0))-get(vec2(-1.,.0));lowp float dyz=get(vec2(.0,1.))-get(vec2(.0,-1.));lowp vec3 normal=cross(normalize(vec3(2.,dyx,.0)),normalize(vec3(.0,dyz,2.)));lowp vec3 pixel=texture2D(background,iUv-depth*normal.xz/size).rgb;lowp vec4 reflected=texture2D(reflections,iUv+height*normal.xz/size);lowp float shoreDistance=reflected.a;lowp float shift=sin(iUv.x*wavePhase.x*6.283185)*sin(iUv.y*wavePhase.y*6.283185)*sin(6.283185*phase+iUv.x*wavePhase.x*3.141592-iUv.y*wavePhase.y*1.256637);lowp float wave=max(cos(shift*6.+phase*25.132741-shoreDistance*6.)*.38+.58,(normal.x+normal.z)*2.+.3);lowp float overhead=wave-shoreDistance;gl_FragColor=vec4(vec3(mix(mix(colorFilter*pixel,reflected.rgb,.15+max(.0,(normal.x+normal.z)*.42)),colorHighlight,max(.0,min(.3,overhead/.1))))*filter,1.);}";d.hj="#version 100\nuniform lowp vec4 color;void main(){gl_FragColor=color;}";d.ra=function(a){this.filter=a};d.C=function(a,b,c,e,f,g,h,k){this.g.use();this.a.b.bindVertexArrayOES(this.b);this.a.uniform1f(this.g.uDepth,this.DEPTH*g);this.a.uniform1f(this.g.uHeight,this.si*g);this.a.uniform2f(this.g.uSize,e,f);this.a.uniform2f(this.g.uWavePhase,e/(g*this.wg),f/(g*this.wg));this.a.uniform2f(this.g.uWaterSize,c.width,c.height);this.a.uniform1f(this.g.uPhase,h);this.a.uniform1f(this.g.uTime,k);null!==this.filter&&(this.a.uniform3f(this.g.uFilter,this.filter.r,this.filter.A,this.filter.w),this.filter=null);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a);this.a.activeTexture(this.a.TEXTURE1);this.a.bindTexture(this.a.TEXTURE_2D,b);this.a.activeTexture(this.a.TEXTURE2);this.a.bindTexture(this.a.TEXTURE_2D,c.lb[c.Ba].K);Ja(this)};d.f=function(){this.g.f();this.ld.f();this.a.b.deleteVertexArrayOES(this.b);this.a.b.deleteVertexArrayOES(this.uf)};function vb(a){this.a=a;this.g=new B(a,this.I,this.G,["vertex","color"],["size"])}function Qa(a,b,c,e,f){this.a=a;this.width=c;this.height=e;this.scale=f;this.pa=new Xa(a,5);this.b=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.b);this.pa.bind();a.enableVertexAttribArray(b.aVertex);a.vertexAttribPointer(b.aVertex,2,a.FLOAT,!1,20,0);a.enableVertexAttribArray(b.aColor);a.vertexAttribPointer(b.aColor,3,a.FLOAT,!1,20,8)}Qa.prototype.Fd=8;for(var zb=Qa.prototype,Ab=[0,0,1,1,1],Bb=[],Cb=0;Cb<=Qa.prototype.Fd;++Cb){var Db=2*Math.PI*Cb/Qa.prototype.Fd;Ab.push(Math.cos(Db),Math.sin(Db),0,0,0);Cb!==Qa.prototype.Fd&&Bb.push(0,Cb+1,(Cb+1)%Qa.prototype.Fd+1)}zb.pb=new Va(Ab,Bb);Qa.prototype.Ha=function(a,b,c,e,f,g){for(var h=this.pa.ec(),k=0,m=this.pb.ya.length;k<m;k+=5)this.pa.Ya((this.pb.ya[k]*c+a)*this.scale,(this.pb.ya[k+1]*c+b)*this.scale,this.pb.ya[k+2]*e,this.pb.ya[k+3]*f,this.pb.ya[k+4]*g);a=n(this.pb.R);for(b=a.next();!b.done;b=a.next())this.pa.na(b.value+h)};Qa.prototype.C=function(){0!==this.pa.za&&(this.a.b.bindVertexArrayOES(this.b),this.a.enable(this.a.BLEND),this.a.blendFunc(this.a.ONE,this.a.ONE),this.pa.upload(),this.pa.C(),this.a.disable(this.a.BLEND))};Qa.prototype.f=function(){this.pa.f();this.a.b.deleteVertexArrayOES(this.b)};vb.prototype.I="#version 100\nuniform vec2 size;attribute vec2 vertex;attribute vec3 color;varying vec3 iColor;void main(){iColor=color;gl_Position=vec4(vec2(2.,-2.)*vertex.xy/size+vec2(-1.,1.),.0,1.);}";vb.prototype.G="#version 100\nvarying lowp vec3 iColor;void main(){gl_FragColor=vec4(iColor,.0);}";function tb(a,b){0!==b.pa.za&&(a.g.use(),a.a.uniform2f(a.g.uSize,b.width,b.height),b.C())}vb.prototype.f=function(){this.g.f()};function Eb(a){this.a=a;this.buffer=new Xa(a,4);this.g=new B(a,this.I,this.G,["position","uv"],["scale"]);this.Jb=new B(a,this.jj,this.ij,["position","uv"],["scale"]);this.b=a.b.createVertexArrayOES();this.Rg=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.b);this.buffer.bind();a.enableVertexAttribArray(this.g.aPosition);a.vertexAttribPointer(this.g.aPosition,2,a.FLOAT,!1,16,0);a.enableVertexAttribArray(this.g.aUv);a.vertexAttribPointer(this.g.aUv,2,a.FLOAT,!1,16,8);a.b.bindVertexArrayOES(this.Rg);this.buffer.bind();a.enableVertexAttribArray(this.Jb.aPosition);a.vertexAttribPointer(this.Jb.aPosition,2,a.FLOAT,!1,16,0);a.enableVertexAttribArray(this.Jb.aUv);a.vertexAttribPointer(this.Jb.aUv,2,a.FLOAT,!1,16,8)}d=Eb.prototype;d.I="#version 100\nuniform vec2 scale;attribute vec2 position;attribute vec2 uv;varying vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position*scale+vec2(-1.,1.),.0,1.);}";d.G="#version 100\nuniform sampler2D atlas;uniform mediump vec2 shadow;varying mediump vec2 iUv;void main(){gl_FragColor=texture2D(atlas,iUv);}";d.jj="#version 100\nuniform vec2 scale;attribute vec2 position;attribute vec2 uv;varying mediump vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position*scale+vec2(-1.,1.),.0,1.);}";d.ij="#version 100\nuniform sampler2D atlas;varying mediump vec2 iUv;void main(){gl_FragColor=vec4(vec3(.0),texture2D(atlas,iUv).a*.6);}";d.C=function(a,b,c,e,f){this.a.b.bindVertexArrayOES(this.b);f&&this.buffer.upload();this.a.enable(this.a.BLEND);this.a.blendFunc(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.Na.K);e?(this.Jb.use(),this.a.uniform2f(this.Jb.uScale,2/b,-2/c)):(this.g.use(),this.a.uniform2f(this.g.uScale,2/b,-2/c));this.buffer.C();this.a.disable(this.a.BLEND)};d.f=function(){this.buffer.f();this.g.f();this.Jb.f();this.a.b.deleteVertexArrayOES(this.b);this.a.b.deleteVertexArrayOES(this.Rg)};function Fb(a,b){this.a=a;this.va=b;this.buffer=a.createBuffer();this.b=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.b);a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW);a.enableVertexAttribArray(this.va.g.aPosition);a.vertexAttribPointer(this.va.g.aPosition,2,a.FLOAT,!1,8,0)}Fb.prototype.C=function(a){this.va.g.use();this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a);this.a.b.bindVertexArrayOES(this.b);this.a.drawArrays(this.a.TRIANGLE_FAN,0,4)};Fb.prototype.f=function(){this.a.deleteBuffer(this.buffer);this.a.b.deleteVertexArrayOES(this.b)};function Gb(a){var b=this;this.g=new B(a,this.I,this.G,["color","position","flex","windPosition"],["time","filter"]);this.qa=new B(a,this.ze,this.ye,["color","position"],[]);this.b=a.b.createVertexArrayOES();this.uc=a.b.createVertexArrayOES();this.filter=za;F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aColor);a.vertexAttribPointer(b.g.aColor,3,a.FLOAT,!1,40,0);a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,3,a.FLOAT,!1,40,12);a.enableVertexAttribArray(b.g.aFlex);a.vertexAttribPointer(b.g.aFlex,2,a.FLOAT,!1,40,24);a.enableVertexAttribArray(b.g.aWindPosition);a.vertexAttribPointer(b.g.aWindPosition,2,a.FLOAT,!1,40,32)}),new G(this.uc,function(){a.enableVertexAttribArray(b.qa.aColor);a.vertexAttribPointer(b.qa.aColor,3,a.FLOAT,!1,40,0);a.enableVertexAttribArray(b.qa.aPosition);a.vertexAttribPointer(b.qa.aPosition,3,a.FLOAT,!1,40,12)})])}Gb.prototype=Object.create(F.prototype);d=Gb.prototype;d.I="#version 100\nuniform sampler2D air;uniform float time;attribute vec3 color;attribute vec3 position;attribute vec2 flex;attribute vec2 windPosition;varying vec3 iColor;void main(){iColor=color;vec2 states=texture2D(air,vec2(windPosition.x,1.-windPosition.y)).ar;float displacement=mix(states.x,states.y,time)*2.-1.;gl_Position=vec4((vec2(position.x,position.y-position.z)+flex*displacement),.5*position.y+.5,1.);}";d.ze="#version 100\nattribute vec3 color;attribute vec3 position;varying vec3 iColor;void main(){iColor=color;gl_Position=vec4(vec2(position.x,position.y+position.z),position.y*.5+.5,1.);}";d.G="#version 100\nuniform lowp vec3 filter;varying lowp vec3 iColor;void main(){gl_FragColor=vec4(iColor*filter,1.);}";d.ye="#version 100\nvarying lowp vec3 iColor;void main(){gl_FragColor=vec4(iColor,1.);}";d.ra=function(a){this.filter=a};d.C=function(a,b){this.g.use();this.a.b.bindVertexArrayOES(this.b);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.lb[a.Ba].K);this.a.uniform1f(this.g.uTime,b);null!==this.filter&&(this.a.uniform3f(this.g.uFilter,this.filter.r,this.filter.A,this.filter.w),this.filter=null);Ja(this)};function $a(a){a.qa.use();a.a.b.bindVertexArrayOES(a.uc);Ja(a)}d.f=function(){this.g.f();this.qa.f();this.a.b.deleteVertexArrayOES(this.b);this.a.b.deleteVertexArrayOES(this.uc)};function Hb(a){var b=this;this.g=new B(a,this.I,this.G,["color","position"],["filter"]);this.qa=new B(a,this.ze,this.ye,["color","position"],[]);this.La=new B(a,this.kj,this.gj,["position"],["color"]);this.b=a.b.createVertexArrayOES();this.uc=a.b.createVertexArrayOES();this.tc=a.b.createVertexArrayOES();this.filter=za;F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(b.g.aColor);a.vertexAttribPointer(b.g.aColor,3,a.FLOAT,!1,24,0);a.enableVertexAttribArray(b.g.aPosition);a.vertexAttribPointer(b.g.aPosition,3,a.FLOAT,!1,24,12)}),new G(this.uc,function(){a.enableVertexAttribArray(b.qa.aColor);a.vertexAttribPointer(b.qa.aColor,3,a.FLOAT,!1,24,0);a.enableVertexAttribArray(b.qa.aPosition);a.vertexAttribPointer(b.qa.aPosition,3,a.FLOAT,!1,24,12)}),new G(this.tc,function(){a.enableVertexAttribArray(b.La.aPosition);a.vertexAttribPointer(b.La.aPosition,3,a.FLOAT,!1,24,12)})]);this.ra(za)}Hb.prototype=Object.create(F.prototype);d=Hb.prototype;d.I="#version 100\nattribute vec3 color;attribute vec3 position;varying vec3 iColor;void main(){iColor=color;gl_Position=vec4(position.x,position.y-position.z,.5*position.y+.5,1.);}";d.ze="#version 100\nattribute vec3 color;attribute vec3 position;varying vec3 iColor;void main(){iColor=color;gl_Position=vec4(vec2(position.x,position.y+position.z),.5*position.y+.5,1.);}";d.kj="#version 100\nattribute vec3 position;void main(){gl_Position=vec4(vec2(position.x,position.y),.0,1.);}";d.G="#version 100\nuniform lowp vec3 filter;varying lowp vec3 iColor;void main(){gl_FragColor=vec4(iColor*filter,1.);}";d.ye="#version 100\nvarying lowp vec3 iColor;void main(){gl_FragColor=vec4(iColor,1.);}";d.gj="#version 100\nuniform lowp vec4 color;void main(){gl_FragColor=color;}";d.ra=function(a){this.filter=a};d.C=function(){this.g.use();this.a.b.bindVertexArrayOES(this.b);null!==this.filter&&(this.a.uniform3f(this.g.uFilter,this.filter.r,this.filter.A,this.filter.w),this.filter=null);this.a.enable(this.a.CULL_FACE);Ja(this);this.a.disable(this.a.CULL_FACE)};d.f=function(){this.g.f();this.qa.f();this.La.f();this.a.b.deleteVertexArrayOES(this.b);this.a.b.deleteVertexArrayOES(this.uc);this.a.b.deleteVertexArrayOES(this.tc)};function Ib(a,b){var c=this;this.Hb=new B(a,this.lj,this.G,["position"],["targetSize","direction"]);this.Ib=new B(a,this.mj,this.G,["position"],["targetSize","direction"]);this.sf=a.b.createVertexArrayOES();this.tf=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.tf);a.bindBuffer(a.ARRAY_BUFFER,b.buffer);a.enableVertexAttribArray(this.Ib.aPosition);a.vertexAttribPointer(this.Ib.aPosition,2,a.FLOAT,!1,8,0);F.call(this,a,[new G(this.sf,function(){a.enableVertexAttribArray(c.Hb.aPosition);a.vertexAttribPointer(c.Hb.aPosition,2,a.FLOAT,!1,8,0)})])}Ib.prototype=Object.create(F.prototype);Ib.prototype.lj="#version 100\nattribute vec2 position;void main(){gl_Position=vec4(position,.0,1.);}";Ib.prototype.mj="#version 100\nattribute vec2 position;void main(){gl_Position=vec4(position,.0,1.);}";Ib.prototype.G="#version 100\nuniform sampler2D source;uniform mediump vec2 targetSize;uniform mediump vec2 direction;lowp vec4 get(int delta){return texture2D(source,(gl_FragCoord.xy+direction*float(delta))/targetSize);}void main(){gl_FragColor=(get(-2)+get(2))*.06136+(get(-1)+get(1))*.24477+get(0)*.38774;}";Ib.prototype.f=function(){this.a.b.deleteVertexArrayOES(this.sf);this.a.b.deleteVertexArrayOES(this.tf);this.Hb.f();this.Ib.f()};function Jb(a,b){this.a=a;this.g=new B(a,this.I,this.G,["position"],[],[new D("springs","i",[0]),new D("source","i",[1]),new D("damping","f",[this.oe])]);this.b=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.b);a.bindBuffer(a.ARRAY_BUFFER,b.buffer);a.enableVertexAttribArray(this.g.aPosition);a.vertexAttribPointer(this.g.aPosition,2,a.FLOAT,!1,8,0)}d=Jb.prototype;d.oe=.98;d.I="#version 100\nattribute vec2 position;varying mediump vec2 iUv;void main(){iUv=position*.5+.5;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform sampler2D source;uniform sampler2D springs;uniform mediump float damping;varying mediump vec2 iUv;void main(){lowp vec3 previous=texture2D(source,iUv).rgb;mediump float previousState=previous.r*2.-1.;mediump float previousLeft=previous.g;mediump float previousRight=previous.b;mediump float motion=previousRight-previousLeft;mediump float state=previousState+motion*.4;motion=(motion-state*texture2D(springs,iUv).r)*damping;if(motion<.0)gl_FragColor=vec4(state*.5+.5,-motion,.0,previous.r);else gl_FragColor=vec4(state*.5+.5,.0,motion,previous.r);}";d.bf=function(a,b){this.g.use();this.a.b.bindVertexArrayOES(this.b);a.Ba=1-a.Ba;a.lb[a.Ba].target();this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,a.pc);this.a.activeTexture(this.a.TEXTURE1);this.a.bindTexture(this.a.TEXTURE_2D,a.lb[1-a.Ba].K);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST);this.a.drawArrays(this.a.TRIANGLE_FAN,0,4);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR);tb(b,a.Ca)};d.f=function(){this.g.f();this.a.b.deleteVertexArrayOES(this.b)};function Kb(a,b){this.a=a;this.g=new B(a,this.I,this.G,["position"],["size","range"]);this.b=a.b.createVertexArrayOES();a.b.bindVertexArrayOES(this.b);a.bindBuffer(a.ARRAY_BUFFER,b.buffer);a.enableVertexAttribArray(this.g.aPosition);a.vertexAttribPointer(this.g.aPosition,2,a.FLOAT,!1,8,0)}Kb.prototype.I="#version 100\nattribute vec2 position;void main(){gl_Position=vec4(position,.0,1.);}";Kb.prototype.G="#version 100\nuniform sampler2D source;uniform mediump vec2 size;uniform mediump float range;mediump float get(int dx,int dy){return texture2D(source,(gl_FragCoord.xy+vec2(float(dx),float(dy)))/size).a;}void main(){mediump float nearest=min(min(min(get(-1,-1),get(1,-1)),min(get(-1,1),get(1,1)))+1.414213*range,min(min(get(0,-1),get(1,0)),min(get(0,1),get(-1,0)))+range);gl_FragColor=vec4(min(texture2D(source,gl_FragCoord.xy/size).r,nearest));}";Kb.prototype.f=function(){this.g.f();this.a.b.deleteVertexArrayOES(this.b)};function Lb(a){this.a=a;this.b=a.b.createVertexArrayOES();this.g=new B(a,this.I,this.G,["position","origin","alpha","threshold"],["window","windowWidth","transparency"],[new D("color","f",[this.COLOR.r,this.COLOR.A,this.COLOR.w])])}d=Lb.prototype;d.I="#version 100\nuniform float window;uniform float windowWidth;uniform float transparency;attribute vec3 position;attribute vec2 origin;attribute float alpha;attribute float threshold;varying float iAlpha;void main(){mediump float age=mod(window-threshold,1.)/windowWidth;iAlpha=transparency*alpha*age;gl_Position=vec4(mix(vec2(origin.x,position.y-origin.y),vec2(position.x,position.y-position.z),age),.5*position.y+.5,1.);}";d.G="#version 100\nuniform lowp vec3 color;varying lowp float iAlpha;void main(){gl_FragColor=vec4(color,iAlpha);}";d.COLOR=A("--i");d.Ga=function(a){this.a.b.bindVertexArrayOES(this.b);this.a.bindBuffer(this.a.ARRAY_BUFFER,a);this.a.enableVertexAttribArray(this.g.aPosition);this.a.vertexAttribPointer(this.g.aPosition,3,this.a.FLOAT,!1,28,0);this.a.enableVertexAttribArray(this.g.aOrigin);this.a.vertexAttribPointer(this.g.aOrigin,2,this.a.FLOAT,!1,28,12);this.a.enableVertexAttribArray(this.g.aAlpha);this.a.vertexAttribPointer(this.g.aAlpha,1,this.a.FLOAT,!1,28,20);this.a.enableVertexAttribArray(this.g.aThreshold);this.a.vertexAttribPointer(this.g.aThreshold,1,this.a.FLOAT,!1,28,24)};d.C=function(a,b,c,e){this.g.use();this.a.uniform1f(this.g.uWindow,b);this.a.uniform1f(this.g.uWindowWidth,c);this.a.uniform1f(this.g.uTransparency,e);this.a.b.bindVertexArrayOES(this.b);this.a.depthMask(!1);b>c?this.a.drawArrays(this.a.LINES,Math.floor(a*(b-c))<<1,Math.ceil(a*c)<<1):(this.a.drawArrays(this.a.LINES,0,Math.ceil(a*b)<<1),this.a.drawArrays(this.a.LINES,Math.floor(a*(b-c+1))<<1,Math.ceil(a*(1-(b-c+1)))<<1));this.a.depthMask(!0)};d.f=function(){this.g.f();this.a.b.deleteVertexArrayOES(this.b)};function Mb(){var a=Nb,b=Ob.clientWidth,c=Ob.clientHeight;this.a=a;this.width=b;this.height=c;this.va=new bb(a);this.md=new Fb(a,this.va);this.kf=new rb(a);this.vf=new sb(a);this.kd=new ub(a);this.cd=new vb(a);this.Qd=new Eb(a);this.Ad=new Gb(a);this.qc=new Hb(a);this.lf=new db(a);this.blur=new Ib(a,this.md);this.Wg=new Jb(a,this.md);this.kc=new eb(a);this.Za=new Ba(a,this.kc);this.Fg=new Kb(a,this.md);this.Me=new Lb(a)}Mb.prototype.resize=function(a,b){this.width=a;this.height=b};Mb.prototype.f=function(){this.Za.f();this.va.f();this.kc.f();this.kf.f();this.vf.f();this.kd.f();this.cd.f();this.Qd.f();this.md.f();this.Ad.f();this.qc.f();this.lf.f();this.blur.f();this.Wg.f();this.Fg.f();this.Me.f()};function Pb(){}function Qb(a){return Math.min(255,Math.max(0,Math.round(a)))}function Rb(a){this.Rd=a;this.R=Array(256).fill(-1)}function H(a,b){this.x=void 0===a?0:a;this.y=void 0===b?0:b}function Sb(a){a=J(a);return new H(a&15,a>>4)}H.prototype.v=function(a){N(a,this.x|this.y<<4)};H.prototype.B=function(){return new H(this.x,this.y)};H.prototype.ba=function(a,b){return new H(Math.min(255,Math.max(0,Math.round(this.x+(a.x-this.x)*b))),Math.min(255,Math.max(0,Math.round(this.y+(a.y-this.y)*b))))};function Tb(a,b,c){this.c=a;this.color=b;this.hd=void 0===c?null:c}Rb.prototype.c=function(a){var b=a.x|a.y<<4;if(-1===this.R[b]){for(var c=-1,e=1E3,f=0,g=this.Rd.length;f<g;++f)for(var h=-1;1>=h;++h)for(var k=-1;1>=k;++k){var m=a.x-this.Rd[f].c.x+16*k,l=a.y-this.Rd[f].c.y+16*h;m=m*m+l*l;m<e&&(e=m,c=f)}this.R[a.x+(a.y<<4)]=c}return this.Rd[this.R[b]]};function ob(){var a=A("--s"),b=A("--t"),c=A("--v"),e=A("--w"),f=A("--u"),g=A("--x"),h=new Rb([new Tb(new H(8,8),f)]);c=new Rb([new Tb(new H(3,5),c),new Tb(new H(7,7),f),new Tb(new H(10,10),e,h)]);g=new Rb([new Tb(new H(5,5),g)]);this.ua=new Rb([new Tb(new H(4,11),a,c),new Tb(new H(8,13),b,g)])}function qb(a){this.hd=a;this.c=this.Zd=null}qb.prototype.next=function(a){if(this.Zd){if(null!==a.V&&!(this.Zd.flags&this.Zd.If&&a.flags&a.Jf)){if(null===(this.hd=this.c.hd))return null;this.c=this.hd.c(a.V)}}else this.c=this.hd.c(a.V);this.Zd=a;return this.c.color};function O(a,b){this.min=a;this.max=b}O.prototype.c=function(a){return this.min+(this.max-this.min)*a};function P(a,b,c){this.J=c;O.call(this,a,b)}P.prototype=Object.create(O.prototype);P.prototype.c=function(a){return this.min+(this.max-this.min)*Math.pow(a,this.J)};function Ub(a,b){this.Dk=b;this.hk=(1-a)*(1+1/b);O.call(this,a,1)}Ub.prototype=Object.create(O.prototype);Ub.prototype.c=function(a){return this.min+this.hk*(1-1/(this.Dk*a+1))};function T(a,b,c,e){this.width=e;this.J=Math.log((b-a)/(c-a))/Math.log(.5);O.call(this,a,c)}T.prototype=Object.create(O.prototype);T.prototype.c=function(a){var b=a-.5;return this.min+(this.max-this.min)*Math.pow(4*b*b*b*Math.pow(1-Math.sin(Math.PI*a),this.width)+.5,this.J)};function U(a,b,c){this.J=c;O.call(this,a,b)}U.prototype=Object.create(O.prototype);U.prototype.c=function(a){return.5>a?this.min+.5*(this.max-this.min)*Math.pow(a+a,this.J):this.min+(this.max-this.min)*(1-.5*Math.pow(2-a-a,this.J))};function Vb(a,b){this.anchor=a;this.x=b}Vb.prototype=Object.create(Pb.prototype);d=Vb.prototype;d.Wb=-256;d.Ae=256;function Wb(a){var b=Vb.prototype.Ae-Vb.prototype.Wb;return new Vb(new qa(Vb.prototype.Wb+b*x(a),Vb.prototype.Wb+b*x(a),Vb.prototype.Wb+b*x(a)),ta(a))}function Xb(a){var b=(new qa).aa(a);a=(new qa).aa(a);var c=Vb.prototype.Wb,e=Vb.prototype.Ae;if(!(b.x>=c&&b.y>=c&&b.z>=c&&b.x<=e&&b.y<=e&&b.z<=e))throw new RangeError;if(!(.01>Math.abs(a.length()-1)))throw new RangeError;return new Vb(b,a)}d.v=function(a){this.anchor.v(a);this.x.v(a)};d.ba=function(a,b){return new Vb(this.anchor.ba(a.anchor,b),this.x.ba(a.x,b).normalize())};function Yb(a){var b=a.anchor,c=a.Wb;a=a.Ae;b.x<c?b.x=c:b.x>a&&(b.x=a);b.y<c?b.y=c:b.y>a&&(b.y=a);b.z<c?b.z=c:b.z>a&&(b.z=a)}d.B=function(){return new Vb(this.anchor.B(),this.x.B())};function Zb(a){var b=ra(a.x),c=sa(a.x,b);return[a.x.x,a.x.y,a.x.z,c.x,c.y,c.z,b.x,b.y,b.z]}function V(a,b,c,e,f,g){this.id=void 0===a?-1:a;this.Gg=void 0===g?1:g;this.V=void 0===b?null:b;this.flags=0;if(void 0===c||c)this.flags|=this.If;if(void 0===e||e)this.flags|=this.Jf;if(void 0===f?0:f)this.flags|=this.ob}V.prototype.If=1;V.prototype.Jf=2;V.prototype.ob=4;V.prototype.B=function(){return null};function fb(a){V.call(this,-1,a,!1)}fb.prototype=Object.create(V.prototype);d=fb.prototype;d.I="#version 100\nattribute vec2 position;void main(){gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform lowp vec3 color;void main(){gl_FragColor=vec4(color,1.);}";d.v=function(a){this.V.v(a)};d.ab=function(a,b,c){a.uniform3f(b.uColor,c.r,c.A,c.w)};d.createShader=function(a){return new B(a,this.I,this.G,["position"],["color"])};function hb(a,b,c,e,f,g,h,k){this.H=a;this.scale=c;this.stretch=e;this.threshold=f;this.Ob=g;this.Pb=h;this.J=k;V.call(this,this.W,b,!0,!1,!1,this.vc)}hb.prototype=Object.create(V.prototype);d=hb.prototype;d.vc=.25;d.Z=new T(.5,1.8,6,11);d.$=new T(.25,.5,.75,2);d.Mc=new T(.37,1,2.5,1);d.we=new T(0,.4,1,1);d.xe=new T(0,.5,1,15);d.da=new P(0,1,2);d.I="#version 100\nattribute vec2 position;attribute vec2 uv;varying vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\n uniform sampler2D noise;mediump float random2(mediump vec2 x){return texture2D(noise,x*.011).r;}mediump float random3(mediump vec3 x){return texture2D(noise,x.xy*.011-x.z*.017).r;}mediump float interpolate(mediump float a,mediump float b,mediump float c,mediump float d,mediump float x){mediump float p=(d-c)-(a-b);return x*(x*(x*p+((a-b)-p))+(c-a))+b;}mediump float sampleX(highp vec3 at){highp float floored=floor(at.x);return interpolate(random3(vec3(floored-1.,at.yz)),random3(vec3(floored,at.yz)),random3(vec3(floored+1.,at.yz)),random3(vec3(floored+2.,at.yz)),at.x-floored)*.5+.25;}mediump float sampleY(highp vec3 at){highp float floored=floor(at.y);return interpolate(sampleX(vec3(at.x,floored-1.,at.z)),sampleX(vec3(at.x,floored,at.z)),sampleX(vec3(at.x,floored+1.,at.z)),sampleX(vec3(at.x,floored+2.,at.z)),at.y-floored);}mediump float cubicNoise(highp vec3 at){highp float floored=floor(at.z);return interpolate(sampleY(vec3(at.xy,floored-1.)),sampleY(vec3(at.xy,floored)),sampleY(vec3(at.xy,floored+1.)),sampleY(vec3(at.xy,floored+2.)),at.z-floored);}uniform lowp vec3 color;uniform mediump float scale;uniform mediump float stretch;uniform mediump float threshold;uniform mediump vec2 focus;uniform mediump float power;uniform mediump vec2 size;uniform highp vec3 anchor;uniform highp mat3 rotate;varying mediump vec2 iUv;void main(){highp vec2 at=vec2(iUv.x*stretch-.5,iUv.y-.5)*size*scale;mediump float noise=cubicNoise(anchor+vec3(at,.0)*rotate);mediump float strength=pow(max(.0,1.-1.5*length(iUv-focus)),power);if(noise>threshold*strength)discard;gl_FragColor=vec4(color,1.);}";function $b(a){return new hb(Xb(a),Sb(a),J(a),J(a),J(a),J(a),J(a),J(a))}d.v=function(a){this.H.v(a);this.V.v(a);N(a,this.scale);N(a,this.stretch);N(a,this.threshold);N(a,this.Ob);N(a,this.Pb);N(a,this.J)};d.B=function(){return new hb(this.H.B(),this.V.B(),this.scale,this.stretch,this.threshold,this.Ob,this.Pb,this.J)};d.ab=function(a,b,c){a.uniform3f(b.uColor,c.r,c.A,c.w);a.uniform1f(b.uScale,this.Z.c(this.scale/255));a.uniform1f(b.uStretch,this.Mc.c(this.stretch/255));a.uniform1f(b.uThreshold,this.$.c(this.threshold/255));a.uniform2f(b.uFocus,this.we.c(this.Ob/255),this.xe.c(this.Pb/255));a.uniform1f(b.uPower,this.da.c(this.J/255));a.uniform3f(b.uAnchor,this.H.anchor.x,this.H.anchor.y,this.H.anchor.z);a.uniformMatrix3fv(b.uRotate,!1,Zb(this.H))};d.createShader=function(a){return new B(a,this.I,this.G,["position","uv"],"scale stretch threshold size anchor rotate color focus power".split(" "))};function kb(a,b,c,e,f,g,h){this.H=a;this.scale=c;this.J=e;this.threshold=f;this.focus=g;this.Cb=h;V.call(this,this.W,b,!0,!1,!0,this.vc)}kb.prototype=Object.create(V.prototype);d=kb.prototype;d.vc=.65;d.Z=new T(1.8,4,5.5,3);d.da=new T(.73,2.15,3.5,5);d.$=new T(.3,.5,.7,1);d.ha=new T(0,.5,1,3);d.Cc=new P(.4,.6,10);d.I="#version 100\nattribute vec2 position;attribute vec2 uv;varying mediump vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\n uniform sampler2D noise;mediump float random2(mediump vec2 x){return texture2D(noise,x*.011).r;}mediump float random3(mediump vec3 x){return texture2D(noise,x.xy*.011-x.z*.017).r;}mediump float interpolate(mediump float a,mediump float b,mediump float c,mediump float d,mediump float x){mediump float p=(d-c)-(a-b);return x*(x*(x*p+((a-b)-p))+(c-a))+b;}mediump float sampleX(highp vec3 at){highp float floored=floor(at.x);return interpolate(random3(vec3(floored-1.,at.yz)),random3(vec3(floored,at.yz)),random3(vec3(floored+1.,at.yz)),random3(vec3(floored+2.,at.yz)),at.x-floored)*.5+.25;}mediump float sampleY(highp vec3 at){highp float floored=floor(at.y);return interpolate(sampleX(vec3(at.x,floored-1.,at.z)),sampleX(vec3(at.x,floored,at.z)),sampleX(vec3(at.x,floored+1.,at.z)),sampleX(vec3(at.x,floored+2.,at.z)),at.y-floored);}mediump float cubicNoise(highp vec3 at){highp float floored=floor(at.z);return interpolate(sampleY(vec3(at.xy,floored-1.)),sampleY(vec3(at.xy,floored)),sampleY(vec3(at.xy,floored+1.)),sampleY(vec3(at.xy,floored+2.)),at.z-floored);}uniform lowp vec3 color;uniform mediump float scale;uniform mediump float power;uniform mediump float threshold;uniform mediump float focus;uniform mediump float focusPower;uniform mediump vec2 size;uniform highp vec3 origin;uniform highp mat3 rotate;varying mediump vec2 iUv;void main(){mediump float phaseThreshold=pow(1.-1.4*abs(iUv.y-.5),power);highp vec2 at=(iUv-vec2(.5))*size*scale;mediump float noise=cubicNoise(origin+vec3(at,.0)*rotate);mediump float strength=pow(max(.0,1.-2.*abs(iUv.x-focus)),focusPower);if(noise>phaseThreshold*strength)discard;gl_FragColor=vec4(color,1.);}";function ac(a){return new kb(Xb(a),Sb(a),J(a),J(a),J(a),J(a),J(a))}d.v=function(a){this.H.v(a);this.V.v(a);N(a,this.scale);N(a,this.J);N(a,this.threshold);N(a,this.focus);N(a,this.Cb)};d.B=function(){return new kb(this.H.B(),this.V.B(),this.scale,this.J,this.threshold,this.focus,this.Cb)};d.ab=function(a,b,c){a.uniform3f(b.uColor,c.r,c.A,c.w);a.uniform1f(b.uPower,this.da.c(this.J/255));a.uniform1f(b.uScale,this.Z.c(this.scale/255));a.uniform1f(b.uThreshold,this.$.c(this.threshold/255));a.uniform1f(b.uFocus,this.ha.c(this.focus/255));a.uniform1f(b.uFocusPower,this.Cc.c(this.Cb/255));a.uniform3f(b.uOrigin,this.H.anchor.x,this.H.anchor.y,this.H.anchor.z);a.uniformMatrix3fv(b.uRotate,!1,Zb(this.H))};d.createShader=function(a){return new B(a,this.I,this.G,["position","uv"],"scale power threshold focus focusPower size origin rotate color".split(" "))};function lb(a,b,c,e,f,g,h,k,m,l){this.H=a;this.c=b;this.scale=c;this.Ab=e;this.Lb=f;this.threshold=g;this.Mb=h;this.Nb=k;this.focus=m;this.J=l;V.call(this,this.W,b,!0,!1,!1,this.vc)}lb.prototype=Object.create(V.prototype);d=lb.prototype;d.vc=.9;d.Z=new T(2.8,4.3,8.5,5);d.Ac=new T(3,7,12,4);d.Ic=new O(2,4.3);d.$=new U(.4,.6,1);d.Lc=new P(0,1.6,10);d.Nc=new P(.3,2,2);d.ha=new T(0,.3,1,3);d.da=new P(.4,.6,10);d.I="#version 100\nattribute vec2 position;attribute vec2 uv;varying vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\n uniform sampler2D noise;mediump float random2(mediump vec2 x){return texture2D(noise,x*.011).r;}mediump float random3(mediump vec3 x){return texture2D(noise,x.xy*.011-x.z*.017).r;}mediump float interpolate(mediump float a,mediump float b,mediump float c,mediump float d,mediump float x){mediump float p=(d-c)-(a-b);return x*(x*(x*p+((a-b)-p))+(c-a))+b;}mediump float sampleX(highp vec3 at){highp float floored=floor(at.x);return interpolate(random3(vec3(floored-1.,at.yz)),random3(vec3(floored,at.yz)),random3(vec3(floored+1.,at.yz)),random3(vec3(floored+2.,at.yz)),at.x-floored)*.5+.25;}mediump float sampleY(highp vec3 at){highp float floored=floor(at.y);return interpolate(sampleX(vec3(at.x,floored-1.,at.z)),sampleX(vec3(at.x,floored,at.z)),sampleX(vec3(at.x,floored+1.,at.z)),sampleX(vec3(at.x,floored+2.,at.z)),at.y-floored);}mediump float cubicNoise(highp vec3 at){highp float floored=floor(at.z);return interpolate(sampleY(vec3(at.xy,floored-1.)),sampleY(vec3(at.xy,floored)),sampleY(vec3(at.xy,floored+1.)),sampleY(vec3(at.xy,floored+2.)),at.z-floored);}uniform lowp vec3 color;uniform mediump float scale;uniform mediump float distortion;uniform mediump float roughness;uniform mediump float threshold;uniform mediump float slant;uniform mediump float suppression;uniform mediump float focus;uniform mediump float power;uniform mediump vec2 size;uniform highp vec3 anchor;uniform highp mat3 rotate;varying mediump vec2 iUv;void main(){highp vec2 at=(iUv-.5)*size*roughness;mediump float dx=cubicNoise(anchor+vec3(at,.0)*rotate);mediump float dy=2.*abs(iUv.y-.5);mediump float x=2.*scale*iUv.x+dx*distortion/scale-dy*dy*slant;mediump float strength=pow(max(.0,1.-2.*abs(iUv.x-focus)),power);if(min(mod(x,2.),2.-mod(x,2.))+dy*dy*suppression>threshold*strength)discard;gl_FragColor=vec4(color,1.);}";function bc(a){return new lb(Xb(a),Sb(a),J(a),J(a),J(a),J(a),J(a),J(a),J(a),J(a))}d.v=function(a){this.H.v(a);this.c.v(a);N(a,this.scale);N(a,this.Ab);N(a,this.Lb);N(a,this.threshold);N(a,this.Mb);N(a,this.Nb);N(a,this.focus);N(a,this.J)};d.B=function(){return new lb(this.H.B(),this.c.B(),this.scale,this.Ab,this.Lb,this.threshold,this.Mb,this.Nb,this.focus,this.J)};d.ab=function(a,b,c){a.uniform3f(b.uColor,c.r,c.A,c.w);a.uniform1f(b.uScale,this.Z.c(this.scale/255));a.uniform1f(b.uDistortion,this.Ac.c(this.Ab/255));a.uniform1f(b.uRoughness,this.Ic.c(this.Lb/255));a.uniform1f(b.uThreshold,this.$.c(this.threshold/255));a.uniform1f(b.uSlant,this.Lc.c(this.Mb/255));a.uniform1f(b.uSuppression,this.Nc.c(this.Nb/255));a.uniform1f(b.uFocus,this.ha.c(this.focus/255));a.uniform1f(b.uPower,this.da.c(this.J/255));a.uniform3f(b.uAnchor,this.H.anchor.x,this.H.anchor.y,this.H.anchor.z);a.uniformMatrix3fv(b.uRotate,!1,Zb(this.H))};d.createShader=function(a){return new B(a,this.I,this.G,["position","uv"],"scale distortion roughness threshold slant suppression color anchor rotate size focus power".split(" "))};function mb(a,b,c){this.yb=a;this.Kb=b;this.cc=c;V.call(this)}mb.prototype=Object.create(V.prototype);d=mb.prototype;d.oj=1.8;d.Ai=.5;d.bh=.5;d.Va=new T(.5,.6,1,2);d.Vb=new T(.6,.7,1.2,1);d.Bc=new O(.07,.115);d.I="#version 100\nattribute vec2 position;attribute vec2 uv;varying vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform mediump float centerPower;uniform mediump float radiusPower;uniform mediump float eyePosition;uniform mediump float shadePower;uniform mediump float lightPower;uniform mediump float ambient;uniform mediump vec2 size;varying mediump vec2 iUv;mediump float getRadius(mediump float x){return pow(cos(3.141592*(pow(x,centerPower)-.5)),radiusPower);}void main(){lowp float radius=2.*abs(iUv.y-.5);lowp float edge=getRadius(iUv.x);if(radius>edge)gl_FragColor=vec4(.0);else{lowp float shade=pow(max(.0,1.-pow(radius/edge,shadePower)),lightPower);lowp float eyeY=.5*getRadius(eyePosition);lowp float eyeDist=min(length((vec2(eyePosition,.5+eyeY)-iUv)*size),length((vec2(eyePosition,.5-eyeY)-iUv)*size));if(eyeDist<.1)gl_FragColor=vec4(vec3(.2),1.);else gl_FragColor=vec4(vec3(shade)*(1.-ambient)+ambient,1.);}}";d.v=function(a){N(a,this.yb);N(a,this.Kb);N(a,this.cc)};d.c=function(a){var b=this.Va.c(this.yb/255),c=this.Vb.c(this.Kb/255);return Math.pow(Math.cos(Math.PI*(Math.pow(a,b)-.5)),c)};d.ab=function(a,b){a.uniform1f(b.uCenterPower,this.Va.c(this.yb/255));a.uniform1f(b.uRadiusPower,this.Vb.c(this.Kb/255));a.uniform1f(b.uEyePosition,this.Bc.c(this.cc/255))};d.createShader=function(a){return new B(a,this.I,this.G,["position","uv"],["centerPower","radiusPower","eyePosition","size"],[new D("shadePower","f",[this.oj]),new D("lightPower","f",[this.Ai]),new D("ambient","f",[this.bh])])};function nb(a){this.nc=a;V.call(this)}nb.prototype=Object.create(V.prototype);d=nb.prototype;d.Jc=new P(.25,3,2);d.I="#version 100\nattribute vec2 position;attribute vec2 uv;varying vec2 iUv;void main(){iUv=uv;gl_Position=vec4(position,.0,1.);}";d.G="#version 100\nuniform mediump float roundness;varying mediump vec2 iUv;void main(){mediump float angle=atan(iUv.y,iUv.x)/1.570796;if(length(iUv)>pow(sin(pow(angle,roundness)*3.141593),.15))gl_FragColor=vec4(.0);else gl_FragColor=vec4(.8);}";d.v=function(a){N(a,this.nc)};d.ab=function(a,b){a.uniform1f(b.uRoundness,this.Jc.c(this.nc/255))};d.createShader=function(a){return new B(a,this.I,this.G,["position","uv"],["roundness"])};hb.prototype.W=1;kb.prototype.W=2;lb.prototype.W=3;function cc(a,b,c,e){this.ua=a;this.Da=b;this.ib=c;this.sd=e;this.region=null}cc.prototype.v=function(a){for(var b=n(this.Da),c=b.next();!c.done;c=b.next())c=c.value,N(a,c.W),c.v(a);N(a,0);this.ua.v(a);this.ib.v(a);this.sd.v(a)};cc.prototype.trim=function(a){a=new qb(a);a.next(this.ua);for(var b=0,c=n(this.Da),e=c.next();!e.done&&null!==a.next(e.value);e=c.next())++b;this.Da=this.Da.slice(0,b)};cc.prototype.f=function(a){this.region&&a.Ke.unshift(this.region.slot)};function dc(){}dc.prototype=Object.create(Pb.prototype);function X(a,b,c){return Qb(a+b.c(c))}function ec(a,b,c){var e=2*Math.PI*x(c);b=b.c(x(c));a.x+=Math.round(Math.cos(e)*b);for(a.y+=Math.round(Math.sin(e)*b);0>a.x;)a.x+=16;for(;0>a.y;)a.y+=16;for(;15<a.x;)a.x-=16;for(;15<a.y;)a.y-=16}function fc(a,b,c){var e=2*Math.PI*x(c);b=b.c(x(c));c=ra(a);var f=sa(a,c);a.x+=Math.cos(e)*b*c.x+Math.sin(e)*b*f.x;a.y+=Math.cos(e)*b*c.y+Math.sin(e)*b*f.y;a.z+=Math.cos(e)*b*c.z+Math.sin(e)*b*f.z;a.normalize()}function gc(a){this.dc=a;this.Hk=new hc(a.body)}gc.prototype=Object.create(dc.prototype);gc.prototype.ve=new T(-3,0,3,1.5);gc.prototype.Dc=new T(-5,0,5,.5);gc.prototype.Ec=new T(-15,0,15,1);gc.prototype.T=function(a){this.Hk.T(a);this.dc.bd=X(this.dc.bd,this.ve,x(a));this.dc.ed=X(this.dc.ed,this.Dc,x(a));this.dc.jc=X(this.dc.jc,this.Ec,x(a))};function hc(a){this.body=a;this.Jk=new ic(a.pattern);this.Ik=new jc(a.Aa);this.Kk=new kc(a.ea)}hc.prototype=Object.create(dc.prototype);hc.prototype.ja=new T(-40,0,40,1.5);hc.prototype.Hc=new T(-40,0,40,1);hc.prototype.T=function(a){this.body.length=X(this.body.length,this.ja,x(a));this.body.l=X(this.body.l,this.Hc,x(a));this.Jk.T(a);this.Ik.T(a);this.Kk.T(a)};function ic(a){this.pattern=a;this.Ek=new wc(a.ua);this.Fk=new xc(a.ib);this.Gk=new yc(a.sd)}ic.prototype=Object.create(dc.prototype);ic.prototype.T=function(a){for(var b=n(this.pattern.Da),c=b.next();!c.done;c=b.next()){c=c.value;var e=a;switch(c.id){case hb.prototype.W:(new zc(c)).T(e);break;case kb.prototype.W:(new Ac(c)).T(e);break;case lb.prototype.W:(new Bc(c)).T(e)}}this.Ek.T(a);this.Fk.T(a);this.Gk.T(a)};function jc(a){this.Aa=a}jc.prototype=Object.create(dc.prototype);jc.prototype.T=function(){};function kc(a){this.ea=a}kc.prototype=Object.create(dc.prototype);kc.prototype.ja=new T(-15,0,15,1);kc.prototype.Kc=kc.prototype.ja;kc.prototype.T=function(a){this.ea.length=X(this.ea.length,this.ja,x(a));this.ea.td=X(this.ea.td,this.Kc,x(a))};function wc(a){this.m=a}wc.prototype=Object.create(dc.prototype);wc.prototype.$i=new P(0,1.5,9);wc.prototype.T=function(a){ec(this.m.V,this.$i,a)};function xc(a){this.m=a}xc.prototype=Object.create(dc.prototype);xc.prototype.Va=new T(-10,0,10,.5);xc.prototype.Vb=new T(-15,0,15,.6);xc.prototype.Bc=new T(-12,0,12,1);xc.prototype.T=function(a){this.m.yb=X(this.m.yb,this.Va,x(a));this.m.Kb=X(this.m.Kb,this.Vb,x(a));this.m.cc=X(this.m.cc,this.Bc,x(a))};function yc(a){this.m=a}yc.prototype=Object.create(dc.prototype);yc.prototype.Jc=new T(-8,0,8,1);yc.prototype.T=function(a){this.m.nc=X(this.m.nc,this.Jc,x(a))};function zc(a){this.m=a}zc.prototype=Object.create(dc.prototype);d=zc.prototype;d.Fc=new P(0,1.3,8);d.zc=new P(0,2.5,5);d.Oc=new P(0,2,4);d.Z=new T(-7,0,7,1);d.$=new T(-10,0,10,1.5);d.Mc=new T(-8,0,8,1);d.we=new T(-5,0,5,3);d.xe=new T(-6,0,6,3);d.da=new T(-9,0,9,2.3);d.T=function(a){ec(this.m.V,this.Fc,a);var b=this.zc;this.m.H.anchor.add(ta(a).multiply(b.c(x(a))));fc(this.m.H.x,this.Oc,a);Yb(this.m.H);this.m.stretch=X(this.m.stretch,this.Mc,x(a));this.m.scale=X(this.m.scale,this.Z,x(a));this.m.threshold=X(this.m.threshold,this.$,x(a));this.m.Ob=X(this.m.Ob,this.we,x(a));this.m.Pb=X(this.m.Pb,this.xe,x(a));this.m.J=X(this.m.J,this.da,x(a))};function Ac(a){this.m=a}Ac.prototype=Object.create(dc.prototype);d=Ac.prototype;d.Fc=new P(0,1.1,7);d.zc=new P(0,3,4);d.Oc=new P(0,.6,4);d.Z=new T(-9,0,9,1.5);d.$=new T(-6.5,0,6.5,2);d.ha=new T(-7,0,7,4);d.Cc=new T(-6,0,6,2.6);d.T=function(a){ec(this.m.V,this.Fc,a);var b=this.zc;this.m.H.anchor.add(ta(a).multiply(b.c(x(a))));fc(this.m.H.x,this.Oc,a);Yb(this.m.H);this.m.scale=X(this.m.scale,this.Z,x(a));this.m.threshold=X(this.m.threshold,this.$,x(a));this.m.focus=X(this.m.focus,this.ha,x(a));this.m.Cb=X(this.m.Cb,this.Cc,x(a))};function Bc(a){this.m=a}Bc.prototype=Object.create(dc.prototype);d=Bc.prototype;d.Fc=new P(0,1.5,8);d.zc=new P(0,4,5);d.Oc=new P(0,.6,4);d.Z=new T(-8,0,8,1);d.$=new T(-6,0,6,1.4);d.Lc=new T(-4,0,4,2);d.Ic=new T(-7,0,7,1.5);d.Ac=new T(-6,0,6,1);d.Nc=new T(-9,0,9,2);d.ha=new T(-5,0,5,3);d.da=new T(-5,0,5,2.7);d.T=function(a){ec(this.m.V,this.Fc,a);var b=this.zc;this.m.H.anchor.add(ta(a).multiply(b.c(x(a))));fc(this.m.H.x,this.Oc,a);Yb(this.m.H);this.m.scale=X(this.m.scale,this.Z,x(a));this.m.threshold=X(this.m.threshold,this.$,x(a));this.m.Mb=X(this.m.Mb,this.Lc,x(a));this.m.Lb=X(this.m.Lb,this.Ic,x(a));this.m.Ab=X(this.m.Ab,this.Ac,x(a));this.m.Nb=X(this.m.Nb,this.Nc,x(a));this.m.focus=X(this.m.focus,this.ha,x(a));this.m.J=X(this.m.J,this.da,x(a))};function Cc(){}Cc.prototype=Object.create(Pb.prototype);function Y(a,b,c,e){return Qb(a+(b-a)*c.c(e))}function Dc(a,b,c,e){return a<b?Qb(a+(b-a)*c.c(e)):Qb(b+(a-b)*c.c(e))}function Ec(a,b){this.s=a;this.u=b;this.zk=new Fc(a.body,b.body)}Ec.prototype=Object.create(Cc.prototype);Ec.prototype.ve=new O(0,1);Ec.prototype.Dc=new P(0,1,3);Ec.prototype.Ec=new P(0,1,4);Ec.prototype.S=function(a,b){return new Gc(this.zk.S(a,b),this.s.Re().B(),oa(new p,x(b)*Math.PI*2),Y(this.s.bd,this.u.bd,this.ve,x(b)),Dc(this.s.ed,this.u.ed,this.Dc,x(b)),Dc(this.s.jc,this.u.jc,this.Ec,x(b)))};function Fc(a,b){this.s=a;this.u=b;this.Bk=new Hc(a.pattern,b.pattern);this.Ak=new Ic(a.Aa,b.Aa);this.Ck=new Jc(a.ea,b.ea)}Fc.prototype=Object.create(Cc.prototype);Fc.prototype.ja=new P(0,1,1.5);Fc.prototype.Hc=Fc.prototype.ja;Fc.prototype.S=function(a,b){var c=x(b);return new Kc(this.Bk.S(a,b),this.Ak.S(b),this.Ck.S(b),Dc(this.s.length,this.u.length,this.ja,c),Dc(this.s.l,this.u.l,this.Hc,c))};function Hc(a,b){this.s=a;this.u=b}Hc.prototype=Object.create(Cc.prototype);Hc.prototype.Yf=.06;Hc.prototype.Zf=.02;function Lc(a,b,c){switch(a.id){case hb.prototype.W:return(new Mc(a,b)).S(c);case kb.prototype.W:return(new Nc(a,b)).S(c);case lb.prototype.W:return(new Oc(a,b)).S(c)}}Hc.prototype.S=function(a,b){for(var c=[],e=this.s.Da.length,f=this.u.Da.length,g=x(b)<this.Zf?1:0,h=x(b)<this.Zf?1:0;g<e||h<f;){var k=g>=e?null:this.s.Da[g],m=h>=f?null:this.u.Da[h];null===k?.5>x(b)&&c.push(m.B()):null===m?.5>x(b)&&c.push(k.B()):k.id===m.id?c.push(Lc(k,m,b)):(k.flags&k.ob)===k.ob===((m.flags&m.ob)===m.ob)?Math.pow(x(b),k.Gg)>Math.pow(x(b),m.Gg)?c.push(k.B()):c.push(m.B()):(k.flags&k.ob)===k.ob?c.push(m.B()):c.push(k.B());x(b)<this.Yf?g+=2:++g;x(b)<this.Yf?h+=2:++h}b=new cc((new Pc(this.s.ua,this.u.ua)).S(b),c,(new Qc(this.s.ib,this.u.ib)).S(b),(new Rc(this.s.sd,this.u.sd)).S(b));b.trim(a.We.ua);return b};function Ic(a,b){this.s=a;this.u=b}Ic.prototype=Object.create(Cc.prototype);Ic.prototype.S=function(){for(var a=[],b=0;b<.5*this.s.length;++b)a.push(new Sc(this.s[b].wb,this.s[b].l));return a};function Jc(a,b){this.s=a;this.u=b}Jc.prototype=Object.create(Cc.prototype);Jc.prototype.ja=new O(0,1);Jc.prototype.Kc=new O(0,1);Jc.prototype.S=function(a){a=x(a);return new Tc(Y(this.s.length,this.u.length,this.ja,a),Y(this.s.td,this.u.td,this.Kc,a))};function Pc(a,b){this.s=a;this.u=b}Pc.prototype=Object.create(Cc.prototype);Pc.prototype.Wa=new U(0,1,20);Pc.prototype.S=function(a){a=x(a);a=this.s.V.ba(this.u.V,this.Wa.c(a));return new fb(a)};function Qc(a,b){this.s=a;this.u=b}Qc.prototype=Object.create(Cc.prototype);Qc.prototype.Va=new U(0,1,20);Qc.prototype.Vb=Qc.prototype.Va;Qc.prototype.Bc=Qc.prototype.Va;Qc.prototype.S=function(a){a=x(a);return new mb(Y(this.s.yb,this.u.yb,this.Va,a),Y(this.s.Kb,this.u.Kb,this.Vb,a),Y(this.s.cc,this.u.cc,this.Bc,a))};function Rc(a,b){this.s=a;this.u=b}Rc.prototype=Object.create(Cc.prototype);Rc.prototype.Jc=new U(0,1,15);Rc.prototype.S=function(a){return new nb(Y(this.s.nc,this.u.nc,this.Jc,x(a)))};function Mc(a,b){this.s=a;this.u=b}Mc.prototype=Object.create(Cc.prototype);d=Mc.prototype;d.Gc=new U(0,1,16);d.Z=new U(0,1,15);d.Mc=new U(0,1,5);d.$=new U(0,1,2);d.Wa=new U(0,1,15);d.ha=new O(0,1);d.da=new U(0,1,4);d.S=function(a){var b=x(a);return new hb(this.s.H.ba(this.u.H,this.Gc.c(b)),this.s.V.ba(this.u.V,this.Wa.c(x(a))),Y(this.s.scale,this.u.scale,this.Z,b),Y(this.s.stretch,this.u.stretch,this.Mc,b),Y(this.s.threshold,this.u.threshold,this.$,b),Y(this.s.Ob,this.u.Ob,this.ha,b),Y(this.s.Pb,this.u.Pb,this.ha,b),Y(this.s.J,this.u.J,this.da,b))};function Nc(a,b){this.s=a;this.u=b}Nc.prototype=Object.create(Cc.prototype);d=Nc.prototype;d.Wa=Mc.prototype.Wa;d.Gc=new U(0,1,8);d.Z=new U(0,1,15);d.da=new U(0,1,2);d.$=new U(0,1,2);d.ha=new U(0,1,10);d.Cc=new U(0,1,11);d.S=function(a){var b=x(a);return new kb(this.s.H.ba(this.u.H,this.Gc.c(b)),this.s.V.ba(this.u.V,this.Wa.c(x(a))),Y(this.s.scale,this.u.scale,this.Z,b),Y(this.s.J,this.u.J,this.da,b),Y(this.s.threshold,this.u.threshold,this.$,b),Y(this.s.focus,this.u.focus,this.ha,b),Y(this.s.Cb,this.u.Cb,this.Cc,b))};function Oc(a,b){this.s=a;this.u=b}Oc.prototype=Object.create(Cc.prototype);d=Oc.prototype;d.Wa=new U(0,1,15);d.Gc=new U(0,1,8);d.Z=new U(0,1,6);d.Ac=new U(0,1,5);d.Ic=new U(0,1,3);d.$=new U(0,1,9);d.Lc=new U(0,1,6);d.Nc=new U(0,1,10);d.ha=new U(0,1,10);d.da=new U(0,1,11);d.S=function(a){var b=x(a);return new lb(this.s.H.ba(this.u.H,this.Gc.c(b)),this.s.V.ba(this.u.V,this.Wa.c(x(a))),Y(this.s.scale,this.u.scale,this.Z,b),Y(this.s.Ab,this.u.Ab,this.Ac,b),Y(this.s.Lb,this.u.Lb,this.Ic,b),Y(this.s.threshold,this.u.threshold,this.$,b),Y(this.s.Mb,this.u.Mb,this.Lc,b),Y(this.s.Nb,this.u.Nb,this.Nc,b),Y(this.s.focus,this.u.focus,this.ha,b),Y(this.s.J,this.u.J,this.da,b))};function Uc(a,b){this.s=a;this.u=b;this.yk=new Ec(this.s,this.u)}function Sc(a,b,c){this.wb=a;this.l=b;this.sign=void 0===c?1:c;this.anchor=new p;this.Rc=this.anchor.B();this.start=new p;this.xd=this.start.B();this.end=new p;this.Xc=new p;this.Oe=this.Pe=this.He=0;this.pattern=null}d=Sc.prototype;d.dh=.95;d.sj=.1;d.Tj=.2;d.yg=.6;d.Pc=.4;d.Hi=2;d.Th=.4;d.Si=Math.fround(.3);d.Ri=2;d.v=function(a){u(a,this.wb);u(a,this.l)};d.connect=function(a,b){this.pattern=a;this.He=this.dh*b;this.Pe=this.l*b};d.shift=function(a,b){this.anchor.x+=a;this.anchor.y+=b;this.start.x+=a;this.start.y+=b;this.end.x+=a;this.end.y+=b};d.yd=function(){this.Rc.set(this.anchor);this.xd.set(this.start);this.Xc.set(this.end)};d.update=function(a,b,c,e,f){this.yd();this.Oe=this.Pe*this.Th*f;var g=this.Pe*f,h=this.sign*c*f,k=this.sign*-b*f;f=h*g*this.yg;var m=k*g*this.yg;this.anchor.x=a.x+h*this.He;this.anchor.y=a.y+k*this.He;a=Math.sin(e+this.wb*this.Hi)*this.Tj+this.sj;this.start.x+=(this.anchor.x+f+g*b*a-this.start.x)*this.Pc;this.start.y+=(this.anchor.y+m+g*c*a-this.start.y)*this.Pc;this.end.x=this.anchor.x+g*b;this.end.y=this.anchor.y+g*c};d.C=function(a,b){var c=a.buffer.ec(),e=this.Rc.x+(this.anchor.x-this.Rc.x)*b,f=this.Rc.y+(this.anchor.y-this.Rc.y)*b,g=this.xd.x+(this.start.x-this.xd.x)*b,h=this.xd.y+(this.start.y-this.xd.y)*b,k=this.Xc.x+(this.end.x-this.Xc.x)*b;b=this.Xc.y+(this.end.y-this.Xc.y)*b;a.buffer.Ya(e,f,this.pattern.region.Qa,this.pattern.region.ma,g,h+this.Oe,this.pattern.region.mb,this.pattern.region.ma,k,b,this.pattern.region.Qa,this.pattern.region.la,g+(k-e),h+(b-f)+this.Oe,this.pattern.region.mb,this.pattern.region.la);a.buffer.na(c,c+1,c+2,c+1,c+2,c+3)};function Tc(a,b){this.length=a;this.td=b;this.Pg=this.Kc.c(b/255);this.anchors=0;this.Sd=this.Bb=this.ca=null}d=Tc.prototype;d.Pc=.55;d.ja=new T(.1,.33,.5,1.5);d.Kc=new T(.3,.6,1.33,1);d.v=function(a){N(a,this.length);N(a,this.td)};d.connect=function(a,b){var c=this.ja.c(this.length/255);this.anchors=Math.min(a.length-1,Math.max(2,Math.round(a.length*c)));this.kb=a.length-this.anchors;this.ca=Array(this.anchors);this.Bb=Array(this.anchors);this.Sd=Array(this.anchors);for(c=0;c<this.anchors;++c)this.ca[c]=a[this.kb+c].B(),this.Bb[c]=this.ca[c].B(),this.Sd[c]=-b*Math.cos(.5*Math.PI*(1+(c+1)/this.anchors));return this.kb-1};d.shift=function(a,b){for(var c=0;c<this.anchors;++c)this.ca[c].x+=a,this.ca[c].y+=b};d.yd=function(){for(var a=0;a<this.anchors;++a)this.Bb[a].set(this.ca[a])};d.update=function(a){this.yd();for(var b=0;b<this.anchors;++b){var c=a[this.kb+b].y+(a[this.kb+b].y-a[this.kb+b-1].y)*this.Pg-this.ca[b].y;this.ca[b].x+=(a[this.kb+b].x+(a[this.kb+b].x-a[this.kb+b-1].x)*this.Pg-this.ca[b].x)*this.Pc;this.ca[b].y+=c*this.Pc}};d.ec=function(){return this.anchors<<1};function Kc(a,b,c,e,f){this.pattern=a;a=0;for(var g=b.length;a<g;++a){var h=b[a];b.push(new Sc(h.wb,h.l,-h.sign))}this.Aa=b;this.ea=c;this.length=e;this.Te=this.ja.c(e/255);this.l=f;this.ae=this.Te*this.Hc.c(f/255);this.i=Array(Math.ceil(this.Te/this.Y));this.pf=this.i.length-1;b=this.i.length;c=Array(b).fill(null);e=n(this.Aa);for(f=e.next();!f.done;f=e.next())f=f.value,a=Math.max(1,Math.round(b*f.wb)),c[a]||(c[a]=[]),c[a].push(f),f.connect(this.pattern,this.pattern.ib.c(a/(b-1))*this.ae);this.Vd=c;this.U=Array(this.i.length);b=this.dj.c(this.l/255);c=this.cj.c(this.l/255);e=new P(b,c,this.Ej);f=Array(this.i.length-1);for(a=0;a<this.i.length-1;++a)f[a]=b+(c-b)*e.c(a/(this.i.length-2));this.pc=f;this.Zc=this.Ea=0;this.Pa=this.Y;this.dd=1/this.Pa}d=Kc.prototype;d.$h=0;d.Zh=8;d.Y=.12;d.Gj=11;d.Hj=6;d.zj=.01;d.Ce=.055;d.Gi=1.8;d.Sj=.15;d.Qj=.05;d.Rj=2;d.xg=.4;d.ai=.4;d.ja=new P(.62,1.3,3);d.Hc=new T(.1,.13,.18,4);d.dj=new T(.15,.85,.95,1.5);d.cj=new T(.05,.6,.7,1.5);d.Ej=1.7;d.Fi=.3;d.v=function(a){this.pattern.v(a);N(a,this.Aa.length>>1);for(var b=0,c=this.Aa.length>>1;b<c;++b)this.Aa[b].v(a);this.ea.v(a);N(a,this.length);N(a,this.l)};d.Re=function(){return this.i[Math.round((this.i.length-1)*this.Fi)]};d.moveTo=function(a){var b=a.x-this.i[0].x;a=a.y-this.i[0].y;for(var c=n(this.i),e=c.next();!e.done;e=c.next())e=e.value,e.x+=b,e.y+=a;c=n(this.Aa);for(e=c.next();!e.done;e=c.next())e.value.shift(b,a);this.ea.shift(b,a)};d.yd=function(){for(var a=0;a<this.i.length;++a)this.U[a].set(this.i[a])};d.update=function(a,b,c,e,f,g){f=void 0===f?null:f;g=void 0===g?null:g;this.yd();this.i[0].set(a);this.Pa=e*this.Te/(this.i.length-1);this.dd=1/this.Pa;a=c-this.zj;a=b.angle()+Math.PI+Math.cos(this.Ea)*a*this.Gj;b=Math.cos(a);a=Math.sin(a);for(var h=1,k=this.i.length;h<k;++h){var m=this.i[h].x-this.i[h-1].x,l=this.i[h].y-this.i[h-1].y,r=Math.sqrt(m*m+l*l),q=this.pc[h-1]+(1-this.pc[h-1])*(1-e),v=this.i[h-1].x+b*this.Pa-this.i[h].x,t=this.i[h-1].y+a*this.Pa-this.i[h].y,z=b,C=a;b=m/r;a=l/r;m+=v*q;l+=t*q;r=Math.sqrt(m*m+l*l);this.i[h].set(this.i[h-1]);this.i[h].x+=this.Pa*m/r;this.i[h].y+=this.Pa*l/r;if(this.Vd[h])for(m=n(this.Vd[h]),l=m.next();!l.done;l=m.next())l.value.update(this.i[h],z,C,this.Zc,e)}this.ea.update(this.i);(this.Ea+=this.Hj*c/e)>Math.PI+Math.PI&&(this.Ea-=Math.PI+Math.PI);0>(this.Zc-=this.ai)&&(this.Zc+=Math.PI+Math.PI);f&&(c=this.i.length-2,e=this.i[c].x-this.U[c].x,b=this.i[c].y-this.U[c].y,e=e*e+b*b,e>this.Ce*this.Ce&&f.Ha(this.i[c].x,this.i[c].y,this.Sj,(this.Qj+(Math.sqrt(e)-this.Ce)*this.Rj)*(x(g)*this.xg+(1-this.xg))))};d.C=function(a,b,c){for(var e=n(this.Aa),f=e.next();!f.done;f=e.next())f.value.C(a,c);e=a.buffer.ec();var g=e+this.ea.ec();f=g+(this.pf+1<<1);var h=this.ea,k=this.pattern,m=k.region.Qa+.02;k=k.region.la-.02;a.buffer.na(f,f+3,e);for(var l=0;l<h.anchors;++l){var r=h.Bb[l].x+(h.ca[l].x-h.Bb[l].x)*c,q=h.Bb[l].y+(h.ca[l].y-h.Bb[l].y)*c;a.buffer.Ya(r,q+h.Sd[l]*b,m,k,r,q-h.Sd[l]*b,m,k);l!==h.anchors-1&&(l===h.anchors-2?a.buffer.na(f+3*(l+2)-1,f+3*(l+1),e+(l<<1),e+(l<<1),e+(l+1<<1),f+3*(l+2)-1):a.buffer.na(f+3*(l+2),f+3*(l+1),e+(l<<1),e+(l<<1),e+(l+1<<1),f+3*(l+2)))}h=this.U[0].x+(this.i[0].x-this.U[0].x)*c;m=this.U[0].y+(this.i[0].y-this.U[0].y)*c;l=g;r=1;for(q=this.i.length;r<q;++r){g=h;k=m;h=this.U[r].x+(this.i[r].x-this.U[r].x)*c;m=this.U[r].y+(this.i[r].y-this.U[r].y)*c;if(1===r){var v=h-g;var t=m-k}var z=v;var C=t;v=h-g;t=m-k;var y=this.ae*b;z=.5*(v+z);C=.5*(t+C);var M=this.pattern.region.sc+(this.pattern.region.rc-this.pattern.region.sc)*(r-1)/(q-1);a.buffer.Ya(g-y*C*this.dd,k+y*z*this.dd,M,this.pattern.region.ma,g+y*C*this.dd,k-y*z*this.dd,M,this.pattern.region.la);r>this.pf?(a.buffer.Ya(g,k,this.pattern.region.Qa+.5*(this.pattern.region.mb-this.pattern.region.Qa),this.pattern.region.ma+.5*(this.pattern.region.la-this.pattern.region.ma)),r===q-1?a.buffer.na(l,l+1,l+3):a.buffer.na(l,l+1,l+4,l+4,l+3,l),l+=3):(a.buffer.na(l,l+1,l+3,l+3,l+2,l),l+=2)}a.buffer.Ya(this.U[this.i.length-1].x+(this.i[this.i.length-1].x-this.U[this.i.length-1].x)*c,this.U[this.i.length-1].y+(this.i[this.i.length-1].y-this.U[this.i.length-1].y)*c,this.pattern.region.rc,.5*(this.pattern.region.ma+this.pattern.region.la));a.buffer.Ya(this.U[this.i.length-1].x+(this.i[this.i.length-1].x-this.U[this.i.length-1].x)*c,this.U[this.i.length-1].y+(this.i[this.i.length-1].y-this.U[this.i.length-1].y)*c,this.pattern.region.Qa+.5*(this.pattern.region.mb-this.pattern.region.Qa),.5*(this.pattern.region.ma+this.pattern.region.la));b=this.ea;a.buffer.na(f,f+3,e+1);for(c=0;c<b.anchors-1;++c)c===b.anchors-2?a.buffer.na(f+3*(c+2)-1,f+3*(c+1),e+(c<<1)+1,e+(c<<1)+1,e+(c+1<<1)+1,f+3*(c+2)-1):a.buffer.na(f+3*(c+2),f+3*(c+1),e+(c<<1)+1,e+(c<<1)+1,e+(c+1<<1)+1,f+3*(c+2))};d.f=function(a){this.pattern.f(a)};function Gc(a,b,c,e,f,g,h){this.position=b.B();this.Nk=b.B();this.direction=c.B();this.o=c.B();this.bd=e;this.ed=f;this.jc=g;this.body=a;this.speed=this.Md;this.$a=0;this.fa=new p;this.P=0;this.gd=this.te;this.Nd=void 0===h?0:h;this.Og=new Ub(this.rj,this.aj.c(e/255));this.size=this.Og.c(this.Nd/65535);this.wk=this.Dc.c(f/255);this.Yd=this.ic=this.xa=0;this.hc=null;a=this.body;e=this.size;a.i[0]=b.B();a.U[0]=b.B();for(b=1;b<a.i.length;++b)if(a.i[b]=na(a.i[b-1].B(),c.B().multiply(a.Pa*e)),a.U[b]=a.i[b].B(),a.Vd[b])for(f=n(a.Vd[b]),g=f.next();!g.done;g=f.next())g=g.value,h=a.i[b],g.anchor.set(h),g.start.set(h),g.end.set(h);a.pf=a.ea.connect(a.i,a.ae)}d=Gc.prototype;d.bi=.6;d.Kf=.45;d.Gd=.05;d.Hd=.05;d.kg=.6;d.Pi=1.25;d.jg=1.5;d.te=20;d.dg=40;d.Di=.1;d.Ci=.25;d.Ei=.07;d.og=.4;d.Md=Math.fround(.015);d.Be=Math.fround(.078);d.xj=.0155;d.yj=.025;d.wj=.06;d.vj=.996;d.pg=.0045;d.fh=.003;d.gh=.0015;d.xf=5;d.ge=30;d.Lj=.0013;d.Ee=Math.fround(.06);d.Nj=.4;d.Mj=.94;d.Oj=.005;d.tg=.95;d.ug=.025;d.Kj=.4*Math.PI;d.rj=.1;d.qj=.2;d.Id=120;d.aj=new P(50,100,4);d.Dc=new P(30,450,.3);d.Ec=new T(1,5,12,2.5);function Vc(a,b,c,e){var f=[];for(var g;g=J(a);)switch(g){case hb.prototype.W:f.push($b(a));break;case kb.prototype.W:f.push(ac(a));break;case lb.prototype.W:f.push(bc(a));break;default:throw new RangeError;}g=new fb(Sb(a));var h=new mb(J(a),J(a),J(a));f=new cc(g,f,h,new nb(J(a)));c.write(f,e);c=Array(J(a));if(!(c.length>=Kc.prototype.$h&&c.length<=Kc.prototype.Zh))throw new RangeError;for(e=0;e<c.length;++e){g=e;var k=a;h=w(k);if(!(0<=h&&1>=h))throw new RangeError;k=w(k);if(!(k>=Sc.prototype.Si&&k<=Sc.prototype.Ri))throw new RangeError;c[g]=new Sc(h,k)}e=new Tc(J(a),J(a));g=J(a);h=J(a);f=new Kc(f,c,e,g,h);c=(new p).aa(a);if(!(.01>Math.abs(c.length()-1)))throw new RangeError;b=new Gc(f,b,c,J(a),J(a),J(a),Wc(a));b.ic=Wc(a);b.xa=J(a);if(b.xa>Gc.prototype.Id)throw new RangeError;b.gd=J(a);if(b.gd>Gc.prototype.dg)throw new RangeError;b.speed=w(a);if(!(b.speed>=Gc.prototype.Md&&b.speed<=Gc.prototype.Be))throw new RangeError;b.$a=J(a);if(b.$a>Gc.prototype.ge)throw new RangeError;b.P=w(a);if(!(0<=b.P&&b.P<=Gc.prototype.Ee))throw new RangeError;if(0!==b.P&&(b.fa.aa(a),!(.01>Math.abs(b.fa.length()-1))))throw new RangeError;return b}d.v=function(a){this.body.v(a);this.direction.v(a);N(a,this.bd);N(a,this.ed);N(a,this.jc);Xc(a,this.Nd);Xc(a,Math.min(65535,this.ic));N(a,this.xa);N(a,this.gd);u(a,this.speed);N(a,this.$a);u(a,this.P);0!==this.P&&this.fa.v(a)};d.moveTo=function(a){this.position.set(a);this.body.moveTo(a)};d.Re=function(){return this.body.Re()};d.Wc=function(a){this.moveTo(a);this.speed=this.wj};function Yc(a,b){b=a.direction.angle()+Math.PI+a.Kj*(2*x(b)-1);oa(a.fa,b);a.P=a.Ee}d.zb=function(a,b){this.$a=Math.floor(this.ge*b);this.P=this.Ee;na(this.fa.set(this.position),a).normalize()};d.Ja=function(a){var b=a.c(this.position);if(0<b)if(1<b)this.o.set(a.X),a.Ja(this.position);else return b*=this.bi,0>this.o.Vc(a.X)?0<this.o.y*a.X.x-this.o.x*a.X.y?(this.o.x+=this.speed*this.direction.y*b,this.o.y-=this.speed*this.direction.x*b):(this.o.x-=this.speed*this.direction.y*b,this.o.y+=this.speed*this.direction.x*b):(this.o.x+=this.speed*a.X.x*b,this.o.y+=this.speed*a.X.y*b),this.P=0,!1;else if(-1===b)return!0};function Zc(a,b){a.$a=a.xf+Math.floor(x(b)*(a.ge-a.xf))}d.update=function(a,b,c){if(this.Ja(a))return!0;++this.ic;this.ic>this.wk&&this.size>this.qj?this.xa<this.Id&&++this.xa:this.xa=0;65535!==this.Nd&&(this.size=this.Og.c(++this.Nd/65535));this.fa&&(a=this.speed*Math.pow(this.P,this.Nj),this.o.normalize().multiply(this.speed),0<this.direction.Vc(this.fa)?(this.o.x+=this.fa.x*a,this.o.y+=this.fa.y*a):0<this.direction.y*this.fa.x-this.direction.x*this.fa.y?(this.o.x+=this.direction.y*a,this.o.y-=this.direction.x*a):(this.o.x-=this.direction.y*a,this.o.y+=this.direction.x*a),this.P=this.P<this.Oj?0:this.P*this.Mj);this.speed*=this.vj;this.speed<this.Md&&(this.speed=this.Md);this.$a&&(--this.$a,this.speed+=this.gh,this.speed>this.Be&&(this.speed=this.Be));this.direction.set(this.o).normalize();this.o.set(this.direction);this.speed<this.yj&&(0===this.$a&&x(c)<this.fh?Zc(this,c):0===this.P&&x(c)<this.Lj?Yc(this,c):this.speed<this.xj&&0===--this.gd&&(this.gd=this.te+Math.floor((this.dg-this.te)*x(c)),b.Ha(this.position.x,this.position.y,this.Di,this.Ci),a=2*(x(c)-.5)*this.Ei,this.o.x+=this.direction.y*a,this.o.y-=this.direction.x*a,this.o.normalize()));a=this.speed*(this.og+(1-this.og)*this.size);this.Nk.set(this.position);this.position.add(this.o.multiply(a));this.body.update(this.position,this.direction,a,this.size,b,c);return!1};d.C=function(a,b){this.body.C(a,this.size,b)};d.f=function(a){this.body.f(a)};function $c(a){this.border=a=void 0===a?this.yf:a;this.X=new p(0,0)}$c.prototype.yf=1.25;$c.prototype.cg=.3;$c.prototype.se=ub.prototype.DEPTH;function ad(a,b){this.position=a;this.l=b;$c.call(this)}ad.prototype=Object.create($c.prototype);d=ad.prototype;d.DEPTH=1;d.Eg=function(a){var b=w(a);a=w(a);if(!(0<=a&&2>=a))throw new RangeError;return new bd(b,a)};d.Se=function(a){var b=a.x-this.position.x;a=a.y-this.position.y;return new bd(Math.atan2(a,b),Math.sqrt(b*b+a*a)/this.l)};d.Qe=function(a){return new p(this.position.x+Math.cos(a.angle)*a.$b*this.l,this.position.y+Math.sin(a.angle)*a.$b*this.l)};d.Ja=function(a){var b=a.x-this.position.x,c=a.y-this.position.y,e=b*b+c*c;if(e<this.l*this.l)return!0;e=Math.sqrt(e);a.x=this.position.x+this.l*b/e;a.y=this.position.y+this.l*c/e;return!0};d.ac=function(a,b){a-=this.position.x;b-=this.position.y;b=a*a+b*b;return b<this.l*this.l?0:Math.sqrt(b)-this.l};d.contains=function(a,b){a-=this.position.x;b-=this.position.y;return a*a+b*b<this.l*this.l?this:null};d.c=function(a){var b=this.l-this.border,c=a.x-this.position.x;a=a.y-this.position.y;var e=c*c+a*a;if(e<b*b)return 0;e=Math.sqrt(e);this.X.x=c;this.X.y=a;this.X.bc(-e);return(e-b)/this.border};d.ad=function(){return Math.ceil(2*Math.PI*this.l/this.cg)};d.Pd=function(a,b){var c=a.length>>1,e=this.ad();a.push(this.position.x,this.position.y);for(var f=0;f<e;++f){var g=2*Math.PI*f/e;a.push(this.position.x+Math.cos(g)*this.l,this.position.y+Math.sin(g)*this.l);b.push(c,c+f+1,c+(f+1)%e+1)}};d.Od=function(a,b){var c=a.length>>2,e=this.ad();a.push(this.position.x,this.position.y,1,this.DEPTH);for(var f=0;f<e;++f){var g=2*Math.PI*f/e,h=this.l+this.se;a.push(this.position.x+Math.cos(g)*h,this.position.y+Math.sin(g)*h,0,this.DEPTH);b.push(c,c+f+1,c+(f+1)%e+1)}};function cd(a,b,c){this.position=a;this.l=b;this.oa=.5*c;$c.call(this,Math.min(this.yf,this.oa))}cd.prototype=Object.create($c.prototype);cd.prototype.DEPTH=.5;cd.prototype.Ja=function(a,b,c,e){e>this.l-this.oa&&e<this.l+this.oa||(e<this.l-this.oa?(a.x=this.position.x+(this.l-this.oa)*b/e,a.y=this.position.y+(this.l-this.oa)*c/e):(a.x=this.position.x+(this.l+this.oa)*b/e,a.y=this.position.y+(this.l+this.oa)*c/e))};cd.prototype.contains=function(a,b){a-=this.position.x;b-=this.position.y;b=Math.sqrt(a*a+b*b);return b>this.l-this.oa&&b<this.l+this.oa?this:null};cd.prototype.c=function(a,b,c){var e=this.l-this.oa+this.border,f=this.l+this.oa-this.border;return c<e?(this.X.x=a,this.X.y=b,this.X.bc(c),(e-c)/this.border):c>f?(this.X.x=a,this.X.y=b,this.X.bc(-c),(c-f)/this.border):0};function dd(a,b){this.j=a;this.width=b;this.X=null;b=Array(a.length);for(var c=0;c<a.length;++c)b[c]=new cd(a[c].L,a[c].l,this.width);this.Fa=b}function ed(a,b,c,e){this.L=a;this.l=b;this.cf=e-c;this.start=c;this.end=e;this.Sc=Math.cos(.5*this.cf);this.direction=oa(new p,c+.5*this.cf)}d=dd.prototype;d.Eg=function(a){var b=J(a),c=w(a);if(!(-1<=c&&2>=c))throw new RangeError;a=w(a);if(!(0<=a&&1>=a))throw new RangeError;return new td(b,c,a)};d.Se=function(a){for(var b=0;b<this.j.length;++b){var c=a.x-this.j[b].L.x,e=a.y-this.j[b].L.y,f=Math.sqrt(c*c+e*e);if(c*this.j[b].direction.x+e*this.j[b].direction.y>=this.j[b].Sc*f)return new td(b,(f-(this.j[b].l-.5*this.width))/this.width,Math.acos((c*Math.cos(this.j[b].start)+e*Math.sin(this.j[b].start))/f)/this.j[b].cf)}return null};d.Qe=function(a){var b=this.j[a.index].start+(this.j[a.index].end-this.j[a.index].start)*a.progress,c=this.j[a.index].l+this.width*(a.l-.5);return new p(this.j[a.index].L.x+Math.cos(b)*c,this.j[a.index].L.y+Math.sin(b)*c)};d.Ja=function(a){for(var b=0;b<this.j.length;++b){var c=a.x-this.j[b].L.x,e=a.y-this.j[b].L.y,f=Math.sqrt(c*c+e*e);if(c*this.j[b].direction.x+e*this.j[b].direction.y>=this.j[b].Sc*f)return this.Fa[b].Ja(a,c,e,f),!0}return!1};d.ac=function(a,b){for(var c=0;c<this.j.length;++c){var e=a-this.j[c].L.x,f=b-this.j[c].L.y,g=Math.sqrt(e*e+f*f);if(e*this.j[c].direction.x+f*this.j[c].direction.y>=this.j[c].Sc*g)return g>this.j[c].l-.5*this.width&&g<this.j[c].l+.5*this.width?0:g<this.j[c].l-.5*this.width?this.j[c].l-.5*this.width-g:g-this.j[c].l-.5*this.width}return Infinity};d.contains=function(a,b){for(var c=0;c<this.j.length;++c){var e=a-this.j[c].L.x,f=b-this.j[c].L.y;if(e*this.j[c].direction.x+f*this.j[c].direction.y>=this.j[c].Sc*Math.sqrt(e*e+f*f)&&(e=this.Fa[c].contains(a,b)))return e}return null};d.c=function(a){for(var b=0;b<this.j.length;++b){var c=a.x-this.j[b].L.x,e=a.y-this.j[b].L.y,f=Math.sqrt(c*c+e*e);if(c*this.j[b].direction.x+e*this.j[b].direction.y>=this.j[b].Sc*f)return a=this.Fa[b].c(c,e,f),this.X=this.Fa[b].X,a}return-1};d.ad=function(a){return Math.ceil((this.j[a].end-this.j[a].start)*this.j[a].l/this.Fa[a].cg)};d.Pd=function(a,b){for(var c=this.j.length;0<c--;)for(var e=a.length>>1,f=this.ad(c),g=0;g<=f;++g){var h=this.j[c].start+(this.j[c].end-this.j[c].start)*g/f,k=this.j[c].l-.5*this.width,m=this.j[c].l+.5*this.width;a.push(this.j[c].L.x+Math.cos(h)*k,this.j[c].L.y+Math.sin(h)*k,this.j[c].L.x+Math.cos(h)*m,this.j[c].L.y+Math.sin(h)*m);g!==f&&b.push(e+(g<<1),e+(g<<1)+1,e+(g<<1)+2,e+(g<<1)+2,e+(g<<1)+3,e+(g<<1)+1)}};d.Od=function(a,b){for(var c=this.j.length;0<c--;)for(var e=a.length>>2,f=this.ad(c),g=0;g<=f;++g){var h=this.j[c].start+(this.j[c].end-this.j[c].start)*g/f,k=this.j[c].l-.5*this.width-this.Fa[c].se,m=this.j[c].l,l=this.j[c].l+.5*this.width+this.Fa[c].se;a.push(this.j[c].L.x+Math.cos(h)*k,this.j[c].L.y+Math.sin(h)*k,0,this.Fa[c].DEPTH,this.j[c].L.x+Math.cos(h)*m,this.j[c].L.y+Math.sin(h)*m,1,this.Fa[c].DEPTH,this.j[c].L.x+Math.cos(h)*l,this.j[c].L.y+Math.sin(h)*l,0,this.Fa[c].DEPTH);g!==f&&b.push(e+3*g,e+3*g+1,e+3*g+4,e+3*g+4,e+3*g+3,e+3*g,e+3*g+1,e+3*g+2,e+3*g+5,e+3*g+5,e+3*g+4,e+3*g+1)}};function bd(a,b){this.angle=a;this.$b=b}bd.prototype.v=function(a){u(a,this.angle);u(a,this.$b)};function td(a,b,c){this.index=a;this.l=b;this.progress=c}td.prototype.v=function(a){N(a,this.index);u(a,this.l);u(a,this.progress)};function ud(a,b,c,e,f,g,h){var k=this;this.a=a;this.va=c;this.bottom=new E(a,e,f,a.RGB,!1,a.NEAREST);this.bottom.target();this.b=a.b.createVertexArrayOES();b.write(g,h);F.call(this,a,[new G(this.b,function(){a.enableVertexAttribArray(k.va.g.aPosition);a.vertexAttribPointer(k.va.g.aPosition,2,a.FLOAT,!1,16,0)})])}ud.prototype=Object.create(F.prototype);ud.prototype.C=function(){this.va.g.use();this.a.b.bindVertexArrayOES(this.b);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,this.bottom.K);Ja(this)};ud.prototype.f=function(){this.bottom.f();this.a.b.deleteVertexArrayOES(this.b)};function vd(a,b,c,e){this.width=Math.ceil(a/this.Y);this.height=Math.ceil(b/this.Y);this.jb=Array(this.width*this.height);for(a=0;a<this.height;++a)for(b=0;b<this.width;++b){var f=(b+x(e)*this.lg)*this.Y,g=(a+x(e)*this.lg)*this.Y;this.jb[b+a*this.width]=c.contains(f,g)?null:new p(f,g)}}vd.prototype.Y=.17;vd.prototype.lg=.8;vd.prototype.sort=function(){this.jb=this.jb.sort(function(a,b){return a===b?0:null===a?100:null===b?-100:b.y-a.y})};function wd(a,b,c,e,f){for(var g=Math.max(0,Math.min(a.width-1,Math.floor((b-e)/a.Y))),h=Math.max(0,Math.min(a.width-1,Math.floor((b+e)/a.Y))),k=Math.max(0,Math.min(a.height-1,Math.floor((c+f)/a.Y))),m=Math.max(0,Math.min(a.height-1,Math.floor((c-f)/a.Y)));m<=k;++m)for(var l=g;l<=h;++l){var r=a.jb[l+m*a.width];if(r){var q=r.x-b;r=e/f*(r.y-c);q*q+r*r<e*e&&(a.jb[l+m*a.width]=null)}}}function xd(a,b,c,e,f,g){this.Ka=yd(this,a,b,c,e,f,g)}function zd(a,b,c,e){this.x=a;this.y=b;this.l=c;this.height=e}d=xd.prototype;d.Rb=A("--f");d.Qb=A("--g");d.rb=6;d.Li=.15;d.yc=.11;d.Ji=.4;d.Ki=1.5;d.ig=1.2;d.Ni=1.6;d.gg=1;d.Ii=2;d.fg=.07;d.Mi=.06;d.Ta=1.18;d.hg=.6;d.ue=.8;function yd(a,b,c,e,f,g,h){var k=[],m=[],l=[];Ad(a,l,c.big.F.position.x,c.big.F.position.y,c.big.F.l,0,2*Math.PI,c.width,c.height,g.ff.bind(g),h);Ad(a,l,c.small.F.position.x,c.small.F.position.y,c.small.F.l,0,2*Math.PI,c.width,c.height,g.ff.bind(g),h);for(var r=n(c.O.F.j),q=r.next();!q.done;q=r.next())q=q.value,Ad(a,l,q.L.x,q.L.y,q.l-.5*c.O.F.width,q.start,q.end,c.width,c.height,g.gf.bind(g),h),Ad(a,l,q.L.x,q.L.y,q.l+.5*c.O.F.width,q.start,q.end,c.width,c.height,g.gf.bind(g),h);l.sort(function(v,t){return t.y-v.y});g=n(l);for(l=g.next();!l.done;l=g.next())l=l.value,Bd(a,k,m,l.x,l.y,l.l,l.height,f,h),wd(e,l.x,l.y,l.l*a.Ta,l.l*f*a.Ta);(new Ua(c.width,c.height,a.rb,[3],[4],[],[5])).apply(k);return new Wa(b,new Va(k,m),65535<a.Db(k)-1)}d.Db=function(a){return a.length/this.rb};function Ad(a,b,c,e,f,g,h,k,m,l,r){var q=2*Math.PI*f;h-=g;var v=-1;for(g+=2*Math.PI*a.yc/q;0<h;){var t=(2*x(r)-1)*a.Mi,z=c+Math.cos(g)*(f+t);t=e+Math.sin(g)*(f+t);var C=void 0;if(0>z||z>k||0>t||t>m||0>=(C=l(z,t)))g+=a.yc,h-=a.yc;else{C=a.yc+(a.Ji-a.yc)*Math.pow(x(r),a.Ki)*C;var y=C*(a.gg+(a.Ii-a.gg)*x(r));Math.abs(y-v)<a.fg&&(y=v+Math.sign(y-v)*a.fg);v=2*Math.PI*C/q*(a.ig+(a.Ni-a.ig)*x(r));b.push(new zd(z,t,C,y));g+=v;h-=v;v=y}}}function Bd(a,b,c,e,f,g,h,k,m){var l=a.Db(b),r=Math.ceil(2*Math.PI*g/a.Li),q=2*x(m)*Math.PI/r;m=.5*(-.5+x(m));for(var v=.8-.4*m,t=r-1,z=0;z<r;++z){var C=2*Math.PI*z/r+q,y=Math.cos(C)*g;C=Math.sin(C)*g*k;var M=Math.sqrt(y*y+C*C);M=a.hg+(1-a.hg)*Math.max(0,y/M*(1/Math.sqrt(2))+C/M*(1/Math.sqrt(2)));b.push(a.Qb.r*M*a.ue,a.Qb.A*M*a.ue,a.Qb.w*M*a.ue,e+y,f+C,0,a.Qb.r*M,a.Qb.A*M,a.Qb.w*M,e+y*a.Ta,f+C*a.Ta,h+y*m*a.Ta,a.Rb.r*v,a.Rb.A*v,a.Rb.w*v,e+y*a.Ta,f+C*a.Ta,h+y*m*a.Ta);c.push(l+3*t,l+3*t+1,l+3*z+1,l+3*z+1,l+3*z,l+3*t,l+3*r,l+3*z+2,l+3*t+2);t=z}b.push(a.Rb.r*v,a.Rb.A*v,a.Rb.w*v,e,f,h)}d.f=function(){this.Ka.f()};function Cd(a,b,c,e,f){this.Ka=this.Ve(a,b,new Dd(c,e,f))}function Ed(a,b,c,e){this.ml=a;this.ol=0;this.flex=b;this.J=c;this.length=e}Ed.prototype.c=function(a,b){a-=this.ml;b-=this.ol;var c=Math.sqrt(a*a+b*b)/this.length;return new p(b*this.flex*Math.pow(c,this.J),a*this.flex*Math.pow(c,this.J))};function Fd(a,b,c,e){for(;c<=e;++c){var f=c*Cd.prototype.rb,g=a.c(b[f+3],b[f+5]);b[f+6]+=g.x;b[f+7]+=g.y}}d=Cd.prototype;d.rb=10;d.fk=.6;d.Ve=function(a,b,c){for(var e=[],f=[],g=n(c.jb.jb),h=g.next();!h.done;h=g.next()){var k=h.value;if(k){var m=c.Le,l=k.x,r=k.y,q=Math.floor(l*m.Xa),v=Math.floor(r*m.Xa),t=l*m.Xa-q,z=m.oc[v*m.Oa+q]+(m.oc[v*m.Oa+q+1]-m.oc[v*m.Oa+q])*t,C=z+(m.oc[(v+1)*m.Oa+q]+(m.oc[(v+1)*m.Oa+q+1]-m.oc[(v+1)*m.Oa+q])*t-z)*(r*m.Xa-v),y=Math.min(c.Le.ff(k.x,k.y),c.Le.gf(k.x,k.y)),M=Math.max(0,Math.min(1,-y/c.eh))*(1-Math.max(0,Math.min(1,(C-c.zf)/(c.th-c.zf))));if(x(c.random)<M*c.ph){var pa=k.x,ba=k.y,Ca=c.random,ib=Gd(this,pa,ba,Ca),va=this.Af+(this.wh-this.Af)*Math.pow(M*x(Ca),this.xh),Vd=va*this.oh,Wd=va*this.lh,Xd=va*this.Gh,Yd=va*this.Bh,Zd=.5*Math.PI+(2*x(Ca)-1)*this.kh,wb=Math.cos(Zd),xb=Math.sin(Zd),fd=new Ed(pa,this.uh,this.vh,va),cf=new Hd(pa+wb*Xd,xb*Xd,pa+wb*Yd,xb*Yd,this.Ah,this.zh,this.yh,this.Eh,this.Fh,this.Hh,this.Dh,this.Ch,Ca),gd=pa+wb*Vd,hd=xb*Vd,$d=pa+wb*Wd,ae=xb*Wd,lc=ba,df=this.mh*va,Da=ib,ka=this.qh,wa=this.nh,ef=fd,W=this.Db(e),mc=$d-gd,nc=ae-hd,id=Math.sqrt(mc*mc+nc*nc),be=-nc/id,ce=mc/id,La=Math.max(this.jh,Math.round(id/this.ih)+1);e.push(.5*ka.r*(wa+1),.5*ka.A*(wa+1),.5*ka.w*(wa+1),gd,lc,hd,0,0,Da.x,Da.y);f.push(W,W+1,W+2);for(var ua=1;ua<La-1;++ua){var jd=ua/(La-1),de=gd+mc*jd,ee=hd+nc*jd,oc=df*Math.pow(Math.cos(Math.PI*(jd-.5)),this.hh);e.push(ka.r*wa,ka.A*wa,ka.w*wa,de+be*oc,lc,ee+ce*oc,0,0,Da.x,Da.y);e.push(ka.r,ka.A,ka.w,de-be*oc,lc,ee-ce*oc,0,0,Da.x,Da.y);ua!==La-2&&f.push(W+(ua<<1)-1,W+(ua<<1),W+(ua<<1)+2,W+(ua<<1)+2,W+(ua<<1)+1,W+(ua<<1)-1)}e.push(.5*ka.r*(wa+1),.5*ka.A*(wa+1),.5*ka.w*(wa+1),$d,lc,ae,0,0,Da.x,Da.y);f.push(W+(La-2<<1)-1,W+(La-2<<1),W+(La-2<<1)+1);Fd(ef,e,W,W+(La-1<<1)-1);Id(this,pa,pa+wb*va,xb*va,ba,this.Ih*va,this.Jh,ib,this.sh,this.Kh,fd,e,f);for(var Q=cf,ff=ba,gf=ib,hf=this.rh,jf=fd,pc=Ca,kd=.5>x(pc)?-1:1,ge=n(Q.$d),ld=ge.next();!ld.done;ld=ge.next()){var md=ld.value,nd=Q.ll+Q.cb*md,od=Q.nl+Q.Td*md,kf=jf.c(nd,od),he=Q.Kg+(Q.vk-Q.Kg)*md,ie=Q.direction+kd*(Q.Lg+(Q.xk-Q.Lg)*x(pc)),lf=Q.Ig+(Q.sk-Q.Ig)*x(pc),mf=.5>x(pc)?-1:1;kd=-kd;var R=kf,Ea=nd,Fa=od,pd=nd+Math.cos(ie)*he,qd=od+Math.sin(ie)*he,Ga=ff,nf=Q.width,je=lf*mf,S=gf,K=hf,I=this.Db(e),Ma=pd-Ea,Na=qd-Fa,qc=Math.sqrt(Ma*Ma+Na*Na),Oa=Ma/qc,yb=Na/qc,rc=Math.max(this.xi,Math.round(qc/this.wi)+1),la=0>Oa?this.ag:1,ma=0>Oa?1:this.ag,sc=(0>Oa?this.$f:-this.$f)*(1-Math.abs(yb));e.push(K.r*la,K.A*la,K.w*la,Ea,Ga,Fa,R.x,R.y,S.x,S.y,K.r*ma,K.A*ma,K.w*ma,Ea,Ga,Fa,R.x,R.y,S.x,S.y);f.push(I,I+2,I+3,I+1,I+4,I+5);for(var L=1;L<rc-1;++L){var xa=L/(rc-1),Ha=qc*nf*.5*Math.cos(Math.PI*(xa-.5));e.push(K.r*la,K.A*la,K.w*la,Ea+Ma*xa+yb*Ha*sc,Ga,Fa+Na*xa-Oa*Ha*sc,R.x,R.y,S.x,S.y,K.r*ma,K.A*ma,K.w*ma,Ea+Ma*xa+yb*Ha,Ga,Fa+Na*xa-Oa*Ha,R.x,R.y,S.x,S.y);e.push(K.r*ma,K.A*ma,K.w*ma,Ea+Ma*xa+yb*Ha*sc,Ga,Fa+Na*xa-Oa*Ha*sc,R.x,R.y,S.x,S.y,K.r*la,K.A*la,K.w*la,Ea+Ma*xa-yb*Ha,Ga,Fa+Na*xa+Oa*Ha,R.x,R.y,S.x,S.y);L!==rc-2?f.push(I+(L<<2)-2,I+(L<<2)-1,I+(L<<2)+3,I+(L<<2)+3,I+(L<<2)+2,I+(L<<2)-2,I+(L<<2),I+(L<<2)+1,I+(L<<2)+5,I+(L<<2)+5,I+(L<<2)+4,I+(L<<2)):f.push(I+(L<<2)-2,I+(L<<2)-1,I+(L<<2)+2,I+(L<<2),I+(L<<2)+1,I+(L<<2)+3)}e.push(K.r*la,K.A*la,K.w*la,pd,Ga,qd,R.x,R.y,S.x,S.y,K.r*ma,K.A*ma,K.w*ma,pd,Ga,qd,R.x,R.y,S.x,S.y);for(var rd=I;rd<=I+(rc-1<<2)-1;++rd){var jb=rd*this.rb,ke=e[jb+3]-Ea,le=e[jb+5]-Fa,me=0===ke&&0===le?new p:new p(le*je,ke*je);e[jb+6]+=me.x;e[jb+7]+=me.y}}}else for(var tc=k.x,ne=k.y,uc=c.random,vc=this.Nf+(this.ji-this.Nf)*x(uc),of=this.di.B().multiply(1-this.fi*x(uc)-this.ei*y),pf=new Ed(tc,this.Mf+(this.hi-this.Mf)*x(uc),this.ii,vc),sd=0;sd<this.Lf;++sd){var oe=.5*Math.PI+(sd/(this.Lf-1)*2-1)*this.gi;Id(this,tc,tc+Math.cos(oe)*vc,Math.sin(oe)*vc,ne,this.ki*vc,this.li,Gd(this,tc,ne,uc),of,this.mi,pf,e,f)}}}(new Ua(b.width,b.height,this.rb,[3],[4],[6],[5,7],[8],[9])).apply(e);return new Wa(a,new Va(e,f),65535<this.Db(e)-1)};d.Db=function(a){return a.length/this.rb};function Gd(a,b,c,e){var f=x(e)*Math.PI*2;a=Math.sqrt(x(e))*a.fk;return new p(b+Math.cos(f)*a,c+Math.sin(f)*a)}d.f=function(){this.Ka.f()};d.Fj=.3;function Id(a,b,c,e,f,g,h,k,m,l,r,q,v){var t=a.Db(q),z=c-b,C=e-0,y=Math.sqrt(z*z+C*C),M=-C/y,pa=z/y;a=Math.max(2,Math.round(y/a.Fj)+1);for(y=0;y<a-1;++y){var ba=y/(a-1),Ca=b+z*ba,ib=C*ba;ba=g*Math.pow(1-ba,h);q.push(m.r*l,m.A*l,m.w*l,Ca+M*ba,f,ib+pa*ba,0,0,k.x,k.y,m.r,m.A,m.w,Ca-M*ba,f,ib-pa*ba,0,0,k.x,k.y);y!==a-2?v.push(t+(y<<1),t+(y<<1)+1,t+(y<<1)+3,t+(y<<1)+3,t+(y<<1)+2,t+(y<<1)):v.push(t+(y<<1),t+(y<<1)+1,t+(y<<1)+2)}q.push(m.r*(1-.5*(1-l)),m.A*(1-.5*(1-l)),m.w*(1-.5*(1-l)),c,f,e,0,0,k.x,k.y);Fd(r,q,t,t+(a-1<<1))}function Hd(a,b,c,e,f,g,h,k,m,l,r,q,v){this.ll=a;this.nl=b;this.cb=c-a;this.Td=e-b;this.direction=Math.atan2(this.Td,this.cb);this.Lg=g;this.xk=h;this.Kg=k;this.vk=m;this.width=l;this.Ig=r;this.sk=q;a=Math.sqrt(this.cb*this.cb+this.Td*this.Td);this.$d=Array(Math.round(a/f));for(f=0;f<this.$d.length;++f)this.$d[f]=x(v)*a;this.$d.sort(function(t,z){return z-t})}d.wi=.15;d.xi=5;d.$f=.5;d.ag=.8;d.jh=3;d.ih=.11;d.hh=.25;d.di=A("--o");d.fi=.15;d.ei=.4;d.Mf=.2;d.hi=.4;d.ii=1.7;d.Nf=.5;d.ji=.7;d.Lf=3;d.gi=.23;d.mi=.85;d.ki=.19;d.li=.8;d.sh=A("--q");d.qh=A("--r");d.rh=A("--p");d.kh=.05;d.uh=.15;d.vh=1.5;d.Af=1.5;d.wh=2.1;d.xh=1.5;d.Ih=.02;d.Jh=.7;d.Kh=.7;d.Gh=.1;d.Bh=.55;d.Ah=.36;d.zh=.8;d.yh=1.5;d.Eh=.8;d.Fh=.35;d.Hh=.6;d.Dh=.04;d.Ch=.22;d.oh=.65;d.lh=.95;d.mh=.04;d.nh=.65;function Dd(a,b,c){a.sort();this.jb=a;this.Le=b;this.random=c}Dd.prototype.eh=.1;Dd.prototype.ph=.2;Dd.prototype.zf=.2;Dd.prototype.th=1.1;function Jd(a,b,c,e){e=this.Mg=new Kd(Math.ceil(b*this.Ub),Math.ceil(c*this.Ub),e);this.Lk=new Kd(e.width,e.height,e.Ok);this.Oa=Math.ceil(b*this.Xa)+1;b=Math.ceil(c*this.Xa)+1;c=Array(this.Oa*b);for(e=0;e<b;++e)for(var f=0;f<this.Oa;++f)c[f+e*this.Oa]=a.ac(f/this.Xa,e/this.Xa);this.oc=c}d=Jd.prototype;d.Ub=.9;d.Kd=.36;d.Xa=3;d.ff=function(a,b){return(this.Mg.c(a*this.Ub,b*this.Ub)-this.Kd)/(1-this.Kd)};d.gf=function(a,b){return(this.Lk.c(a*this.Ub,b*this.Ub)-this.Kd)/(1-this.Kd)};function Ld(a,b,c){var e=new vd(b.width,b.height+this.gk,b,c),f=new Jd(b,e.width,e.height,c);this.a=a;this.ef=new xd(a,b,e,this.Xb,f,c);this.Ng=new Cd(a,b,e,f,c)}Ld.prototype.Xb=.74;Ld.prototype.gk=.3;Ld.prototype.C=function(a,b,c,e){b.C();a.C(c,e)};Ld.prototype.f=function(){this.Ng.f();this.ef.f()};function Md(a,b,c,e,f,g){this.$b=c;this.speed=e;this.fb=f;this.fd=0;this.from=a;this.cb=b.x-a.x;this.Ne=b.y-a.y;this.lc=Math.ceil(Math.sqrt(this.cb*this.cb+this.Ne*this.Ne)/this.Oi)+1;a=Array(this.lc);for(b=0;b<a.length;++b)a[b]=this.ui*Math.pow(x(g),this.vi);this.Mk=a}d=Md.prototype;d.Oi=2.5;d.Qi=.8;d.Ti=.3;d.ui=2;d.vi=2.5;d.update=function(a){for(var b=a.Ca.scale,c=Math.sin(this.fd/this.$b*Math.PI)*this.fb,e=a.Ca.pa.ec(),f=0;f<=this.lc;++f){var g=this.Mk[f],h=this.from.x+this.cb*f/this.lc+this.fd,k=this.from.y+this.Ne*f/this.lc;a.Ca.pa.Ya((h-g-this.Ti)*b,k*b,0,0,0,(h-g)*b,k*b,0,0,Math.sin(f/this.lc*Math.PI)*c,(h-g+this.Qi)*b,k*b,0,0,0);f!==this.lc&&a.Ca.pa.na(e+3*f,e+3*f+1,e+3*f+4,e+3*f+4,e+3*f+3,e+3*f,e+3*f+1,e+3*f+2,e+3*f+5,e+3*f+5,e+3*f+4,e+3*f+1)}this.fd+=this.speed;return this.fd>this.$b};function Nd(a){this.fb=this.frequency=0;this.Xg=this.Fe;this.D=a;this.wa=[]}d=Nd.prototype;d.Fe=10;d.ek=15;d.Pf=.9;d.oi=1.6;d.Qf=-.3;d.pi=.3;d.Of=.6;d.ni=1.4;d.Rf=.15;d.ri=.3;d.update=function(a,b){if(0>--this.Xg){if(x(b)<this.frequency){var c=this.Qf+(this.pi-this.Qf)*x(b),e=(this.Pf+(this.oi-this.Pf)*x(b))*this.D.height,f=(this.Of+(this.ni-this.Of)*x(b))*this.D.width,g=new p(-.5*f+this.D.width*x(b),-.5*e+this.D.height*x(b));this.wa.push(new Md(g,new p(g.x+e*c,g.y+e),f,this.Rf+(this.ri-this.Rf)*x(b),this.fb,b))}this.Xg=this.Fe+(this.ek-this.Fe)*x(b)}for(b=this.wa.length;0<b--;)this.wa[b].update(a)&&this.wa.splice(b,1)};function Od(a,b,c){this.a=a;a=Math.ceil((b.width+Math.abs(this.Bf))/this.Bd);for(var e=Math.ceil((b.height+this.Lh)/this.Bd),f=Math.min(0,this.Bf),g=[],h=0;h<e;++h)for(var k=0;k<a;++k)g.splice(Math.floor(x(c)*(g.length+1)),0,new p(this.Bd*(k+x(c)*this.Cf)+f,this.Bd*(h+x(c)*this.Cf)));this.hb=g;this.bb=this.hb.length;this.Ka=this.Ve(this.hb,b.width,b.height,c);for(c=this.fc=this.speed=this.amount=this.Ge=this.window=this.wf=0;c<this.bb;++c)b.contains(this.hb[c].x,this.hb[c].y)||(this.hb[c]=null)}d=Od.prototype;d.Tb=.6;d.Sb=10;d.Yh=1-Od.prototype.Tb/Od.prototype.Sb;d.Uh=.7;d.Dd=.55*Math.PI;d.Ff=.015*Math.PI;d.Vh=new T(Od.prototype.Dd-Od.prototype.Ff,Od.prototype.Dd,Od.prototype.Dd+Od.prototype.Ff,3);d.Xh=.1;d.Wh=.175;d.Bd=.3;d.Cf=.8;d.Bf=-Math.cos(Od.prototype.Dd)*Od.prototype.Sb;d.Lh=Od.prototype.Tb;d.Ve=function(a,b,c,e){var f=[],g=this.a.createBuffer();b=new Ua(b,c,7,[0,3],[1],[],[2,4]);c=0;for(var h=a.length;c<h;++c){var k=c/(h+1),m=this.Vh.c(x(e)),l=Math.cos(m);m=Math.sin(m);f.push(a[c].x-l*this.Tb,a[c].y,-m*this.Tb,a[c].x+l*(this.Sb-this.Tb),m*(this.Sb-this.Tb),this.Uh,k,a[c].x,a[c].y,0,a[c].x+l*this.Sb,m*this.Sb,0,k)}b.apply(f);this.a.bindBuffer(this.a.ARRAY_BUFFER,g);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(f),this.a.STATIC_DRAW);return g};d.start=function(a,b){this.speed=a;this.amount=b;this.fc=Math.round(this.bb*(this.window-b));0>this.fc&&(this.fc+=this.bb)};d.update=function(a,b){this.wf=this.window;this.Ge=this.amount;1<(this.window+=this.speed*this.amount)&&--this.window;var c=this.window-this.amount*this.Yh;0>c&&++c;c=Math.floor(this.bb*c)%this.bb;for(var e=(this.fc+1)%this.bb;e!==c;)this.hb[e]&&a.Ha(this.hb[e].x,this.hb[e].y,this.Xh,this.Wh*b),++e===this.bb&&(e=0);this.fc=c-1};d.C=function(a,b,c){var e=this.window-this.wf;Math.abs(e)>1-Math.abs(e)&&(e-=Math.sign(e));var f=this.Ge+(this.amount-this.Ge)*c;c=this.wf+e*c;1<f&&--f;1<c&&--c;a.C(this.bb,c,f,b);return b};d.f=function(){this.a.deleteBuffer(this.Ka)};function Pd(a,b,c){a=void 0===a?this.qb:a;b=void 0===b?this.qb:b;this.Fb=a;this.state=b;this.time=void 0===c?0:c}d=Pd.prototype;d.De=500;d.qb=0;d.wc=1;d.qe=2;d.re=3;d.xc=4;d.rg=[[.6,.3,.1,0,0],[.3,.25,.2,.15,.1],[.4,.4,.2,0,0],[.3,.4,0,.3,0],[.5,.2,0,0,.3]];function Qd(a){var b=J(a),c=J(a);a=Wc(a);if(Math.max(b,c)>Pd.prototype.xc)throw new RangeError;if(a>Pd.prototype.De)throw new RangeError;return new Pd(b,c,a)}d.v=function(a){N(a,this.Fb);N(a,this.state);Xc(a,this.time)};d.transition=function(a){var b=this.state;a=x(a);for(var c=0,e=0,f=this.rg[this.state].length;e<f;++e)if(c+=this.rg[this.state][e],a<c){this.state=e;break}return b!==this.state?(this.Fb=b,!0):!1};d.update=function(a){return++this.time===this.De?(this.time=0,this.transition(a)):!1};function Rd(a,b,c){this.a=a;this.wa=new Nd(b);this.Ma=new Od(a,b,c);this.state=new Pd;this.transition=this.zd=this.qf=1;this.filter=new ya(1,1,1);this.ka=this.eb=this.Ef;this.gb=this.Ue=0;Sd(this,this.state.state)}d=Rd.prototype;d.sg=.015;d.yi=.02;d.bg=.3;d.zi=Math.ceil(1/Rd.prototype.bg);d.le=new ya(1.5,1.5,2);d.bj=new P(0,1,4);d.Ef=A("--j");d.Oh=A("--k");d.Nh=A("--l");d.Ph=A("--m");d.Qh=A("--n");d.Yj=.4;d.Wj=.7;d.Vj=.5;d.Xj=.85;d.Zj=1;d.ck=.05;d.ak=.1;d.$j=.1;d.bk=.15;d.dk=.2;d.Xi=.07;d.Yi=.08;d.Zi=.1;d.Ui=.06;d.Vi=.09;d.Wi=.15;d.be=function(a){this.state=a;Sd(this,a.Fb);Sd(this,a.state);this.transition=this.zd=Math.min(1,a.time/(1/this.sg));this.filter.r=this.ka.r+(this.eb.r-this.ka.r)*this.transition;this.filter.A=this.ka.A+(this.eb.A-this.ka.A)*this.transition;this.filter.w=this.ka.w+(this.eb.w-this.ka.w)*this.transition};d.getState=function(){return this.state};d.ra=function(a){this.ka=this.eb;this.eb=a};function Sd(a,b){a.transition=a.zd=0;switch(b){case a.state.qb:a.ra(a.Ef);b=a.wa;var c=a.ck;b.frequency=a.Yj;b.fb=c;break;case a.state.wc:a.ra(a.Oh);b=a.wa;c=a.ak;b.frequency=a.Wj;b.fb=c;break;case a.state.qe:a.ra(a.Nh);a.Ma.start(a.Xi,a.Ui);b=a.wa;c=a.$j;b.frequency=a.Vj;b.fb=c;break;case a.state.re:a.ra(a.Ph);a.Ma.start(a.Yi,a.Vi);b=a.wa;c=a.bk;b.frequency=a.Xj;b.fb=c;break;case a.state.xc:a.ra(a.Qh),a.Ma.start(a.Zi,a.Wi),b=a.wa,c=a.dk,b.frequency=a.Zj,b.fb=c}}d.update=function(a,b,c){this.state.update(c)&&Sd(this,this.state.state);this.zd=this.transition;1>this.transition&&1<(this.transition+=this.sg)&&(this.transition=1);switch(this.state.state){case this.state.qb:case this.state.wc:this.state.Fb!==this.state.qb&&this.state.Fb!==this.state.wc&&1!==this.transition&&this.Ma.update(b,1-this.transition);break;case this.state.xc:if(this.Ue=this.gb,0!==this.gb)0>(this.gb-=this.bg)&&(this.gb=0,Td(this,1));else{var e;if(e=x(c)<this.yi)e=this.state,e=e.De-e.time>this.zi;e&&(this.gb=1)}case this.state.qe:case this.state.re:this.Ma.update(b,this.transition)}this.wa.update(a,c)};function Td(a,b){a.filter.r=a.ka.r+(a.eb.r-a.ka.r)*b;a.filter.A=a.ka.A+(a.eb.A-a.ka.A)*b;a.filter.w=a.ka.w+(a.eb.w-a.ka.w)*b}d.C=function(a,b){var c=this.zd+(this.transition-this.zd)*b;this.a.enable(this.a.BLEND);this.a.blendFunc(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA);switch(this.state.state){case this.state.qb:case this.state.wc:this.state.Fb!==this.state.qb&&this.state.Fb!==this.state.wc&&1!==c&&this.Ma.C(a,1-c,b);break;case this.state.qe:case this.state.re:case this.state.xc:this.Ma.C(a,c,b)}this.a.disable(this.a.BLEND);if(0!==this.gb&&this.state.state===this.state.xc)return a=this.bj.c(this.Ue+(this.gb-this.Ue)*b),Td(this,c),this.filter.r+=this.le.r*a,this.filter.A+=this.le.A*a,this.filter.w+=this.le.w*a,!0;if(c!==this.qf)return Td(this,c),this.qf=c,!0;this.qf=c;return!1};d.f=function(){this.Ma.f()};function Ud(a){this.xb=a}Ud.prototype.M=function(a){return new fb(this.xb.M(a))};function fe(a){var b=new O(50,100),c=new O(120,136),e=new O(80,100),f=new O(120,136),g=new O(120,136),h=new O(30,50);this.xb=a;this.od=b;this.dl=c;this.pd=e;this.gl=f;this.il=g;this.nd=h}fe.prototype.M=function(a){return new hb(Wb(a),this.xb.M(a),Math.round(this.od.c(x(a))),Math.round(this.dl.c(x(a))),Math.round(this.pd.c(x(a))),Math.round(this.gl.c(x(a))),Math.round(this.il.c(x(a))),Math.round(this.nd.c(x(a))))};function pe(){var a=new O(210,240),b=new O(70,100),c=new O(100,130),e=new O(120,136),f=new O(130,160),g=new O(80,100),h=new O(120,136),k=new O(30,60);this.xb=new qe(new O(4,6),new O(4,6));this.od=a;this.Rk=b;this.Zk=c;this.pd=e;this.cl=f;this.el=g;this.hf=h;this.nd=k}pe.prototype.M=function(a){return new lb(Wb(a),this.xb.M(a),Math.round(this.od.c(x(a))),Math.round(this.Rk.c(x(a))),Math.round(this.Zk.c(x(a))),Math.round(this.pd.c(x(a))),Math.round(this.cl.c(x(a))),Math.round(this.el.c(x(a))),Math.round(this.hf.c(x(a))),Math.round(this.nd.c(x(a))))};function re(){var a=new O(150,170),b=new O(150,170),c=new O(100,130),e=new O(120,160),f=new O(180,210);this.xb=new qe(new O(2,4),new O(4,6));this.od=a;this.nd=b;this.pd=c;this.hf=e;this.Tk=f}re.prototype.M=function(a){return new kb(Wb(a),this.xb.M(a),Math.round(this.od.c(x(a))),Math.round(this.nd.c(x(a))),Math.round(this.pd.c(x(a))),Math.round(this.hf.c(x(a))),Math.round(this.Tk.c(x(a))))};function se(a,b,c){this.Qk=a;this.Yk=b;this.Sk=c}se.prototype.M=function(a){return new mb(this.Qk.c(x(a)),this.Yk.c(x(a)),this.Sk.c(x(a)))};function te(a){this.$k=a}te.prototype.M=function(a){return new nb(Math.round(this.$k.c(x(a))))};function qe(a,b){this.fl=a;this.hl=b}qe.prototype.M=function(a){return new H(Math.round(this.fl.c(x(a))),Math.round(this.hl.c(x(a))))};function ue(a,b){this.jf=a;this.bl=b}ue.prototype.M=function(a){return new Tc(Math.round(this.jf.c(x(a))),Math.round(this.bl.c(x(a))))};function ve(){}ve.prototype.M=function(){return[new Sc(.2,1.4,1),new Sc(.5,.8,1)]};function we(a,b,c,e){this.lk=a;this.mk=b;this.nk=c;this.uk=e}we.prototype.M=function(a,b,c,e){for(var f=[],g=n(this.uk),h=g.next();!h.done;h=g.next())f.push(h.value.M(e));e=new cc(this.lk.M(e),f,this.mk.M(e),this.nk.M(e));e.trim(b.We.ua);a.write(e,c);return e};function xe(a,b,c,e){var f=new ve;this.jf=a;this.Xk=b;this.kk=f;this.qk=c;this.pk=e}xe.prototype.M=function(a,b,c,e){return new Kc(this.pk.M(a,b,c,e),this.kk.M(e),this.qk.M(e),Math.round(this.jf.c(x(e))),Math.round(this.Xk.c(x(e))))};function ye(a,b,c,e,f,g){this.al=a;this.Uk=b;this.Vk=c;this.Wk=e;this.Pk=f;this.jk=g}ye.prototype.M=function(a,b,c,e,f,g){return new Gc(this.jk.M(c,e,f,g),a,b,Math.round(this.Uk.c(x(g))),Math.round(this.Vk.c(x(g))),Math.round(this.Wk.c(x(g))),Math.round(this.Pk.c(x(g))))};function ze(a,b,c){this.time=void 0===a?0:a;this.qd=void 0===b?0:b;this.wd=void 0===c?null:c}ze.prototype.Df=30;ze.prototype.Sa=[new ye(new T(2,3,4,1),new O(170,200),new O(180,200),new O(4,6),new O(25E3,3E4),new xe(new T(70,90,120,5),new O(100,120),new ue(new O(120,150),new O(100,120)),new we(new Ud(new qe(new O(3,5),new O(10,11))),new se(new O(220,240),new O(120,140),new O(150,160)),new te(new O(60,90)),[new fe(new qe(new O(6,8),new O(6,8)))]))),new ye(new T(1,2,5,1),new O(130,170),new O(150,160),new O(2,4),new O(2E4,25E3),new xe(new O(150,180),new O(80,100),new ue(new O(100,140),new O(180,220)),new we(new Ud(new qe(new O(7,9),new O(12,14))),new se(new O(50,100),new O(170,200),new O(160,170)),new te(new O(200,230)),[new pe]))),new ye(new T(2,3,4,1),new O(170,200),new O(180,200),new O(4,6),new O(25E3,3E4),new xe(new O(160,200),new O(130,150),new ue(new O(120,150),new O(100,120)),new we(new Ud(new qe(new O(3,5),new O(10,12))),new se(new O(220,240),new O(120,140),new O(150,160)),new te(new O(60,90)),[new fe(new qe(new O(2,4),new O(4,6)))]))),new ye(new T(2,3,4,1),new O(170,200),new O(180,200),new O(4,6),new O(25E3,3E4),new xe(new O(160,200),new O(130,150),new ue(new O(120,150),new O(100,120)),new we(new Ud(new qe(new O(3,5),new O(10,12))),new se(new O(220,240),new O(120,140),new O(150,160)),new te(new O(60,90)),[new re])))];function Ae(a){var b=J(a),c=J(a);a=J(a);if(b>ze.prototype.Df)throw new RangeError;if(a>ze.prototype.Sa.length)throw new RangeError;if(0!==c&&a===ze.prototype.Sa.length)throw new RangeError;return new ze(b,c,a===ze.prototype.Sa.length?null:ze.prototype.Sa[a])}ze.prototype.v=function(a){N(a,this.time);N(a,this.qd);null===this.wd?N(a,this.Sa.length):N(a,this.Sa.indexOf(this.wd))};ze.prototype.update=function(a,b,c,e,f,g,h,k){++this.time===this.Df&&(this.time=0,0!==this.qd?(a.Eb()+h<cb.prototype.pe&&Be(b,this.wd.M(a.vd.B(),a.ud.B(),c,e,f,k)),--this.qd,console.log("Spawn")):b.Eb()<g&&.1>x(k)&&(this.wd=this.Sa[Math.floor(this.Sa.length*x(k))],this.qd=Math.round(this.wd.al.c(x(k))),console.log("Primed "+this.qd)))};function Ce(a){var b=void 0===b?new ze:b;this.D=a;this.state=b;this.time=0}d=Ce.prototype;d.uj=8;d.tj=16;d.be=function(a){this.state=a};d.getState=function(){return this.state};d.update=function(a,b,c,e,f){this.state.update(this.D,this.D.O,b,c,e,this.tj,this.uj,f)};function De(a,b){this.F=a;this.rk=void 0===b?!0:b;this.N=[]}d=De.prototype;d.he=1;d.Mh=.17;d.v=function(a){for(var b=Array(this.N.length),c=0,e=0;e<this.N.length;++e){var f=this.F.Se(this.N[e].position);f&&++c;b[e]=f}Xc(a,c);for(c=0;c<this.N.length;++c)b[c]&&(b[c].v(a),this.N[c].v(a))};d.aa=function(a,b,c){for(var e=0,f=Wc(a);e<f;++e)this.N.push(Vc(a,this.F.Qe(this.F.Eg(a)),b,c))};d.Eb=function(){return this.N.length};d.zb=function(a,b){for(var c=new p(a,b),e=n(this.N),f=e.next();!f.done;f=e.next()){f=f.value;var g=f.position.x-a,h=f.position.y-b;g*g+h*h<this.he*this.he&&f.zb(c,this.Mh*Math.sqrt(g*g+h*h)/this.he)}};function Ee(a,b,c){for(var e=Array(a.N.length),f=a.N.length;0<f--;)if(e[f]=a.F.Se(a.N[f].position),e[f]){var g=b.Qe(e[f]);g?a.N[f].moveTo(g):Fe(a,f,c)}else Fe(a,f,c);a.F=b}function Be(a,b){a.N.splice(0,0,b)}function Fe(a,b,c){a.N[b].f(c);a.N.splice(b,1)}d.jd=function(a,b){if(!this.F.contains(a,b))return null;for(var c=this.N.length;0<c--;){a:{var e=this.N[c].body;var f=a,g=b,h=f-e.i[0].x,k=g-e.i[0].y,m=e.Pa*(e.i.length-1);if(!(h*h+k*k>m*m))for(var l=1;l<e.i.length-1;++l)if(h=f-e.i[l].x,k=g-e.i[l].y,m=e.pattern.ib.c(l/(e.i.length-1))*e.ae*e.Gi,h*h+k*k<m*m){e=!0;break a}e=!1}if(e)return a=this.N[c],this.N.splice(c,1),a}return null};d.update=function(a,b,c,e,f,g){for(var h=this.N.length;0<h--;){for(var k=this.N[h],m=h;0<m--;){var l=this.N[m],r=g,q=k.position.x-l.position.x,v=k.position.y-l.position.y;if(0!==q||0!==v){var t=q*q+v*v;if(t<k.jg*k.jg)if(t=Math.sqrt(t),++k.Yd,++l.Yd,k.hc=l,l.hc=k,k.speed<l.speed?k.speed+=(l.speed-k.speed)*k.pg:l.speed<k.speed&&(l.speed+=(k.speed-l.speed)*k.pg),t<k.kg){var z=1-t/k.kg;q=z*k.Kf*q/t;v=z*k.Kf*v/t;k.o.x+=k.speed*q;k.o.y+=k.speed*v;l.o.x-=l.speed*q;l.o.y-=l.speed*v;0===k.P&&0!==l.P&&x(r)<k.ug?(k.fa.set(l.fa),k.P=l.P*k.tg):0!==k.P&&0===l.P&&x(r)<k.ug&&(l.fa.set(k.fa),l.P=k.P*l.tg)}else t<k.Pi?(k.o.x+=k.speed*k.Gd*l.direction.x,k.o.y+=k.speed*k.Gd*l.direction.y,l.o.x+=l.speed*k.Gd*k.direction.x,l.o.y+=l.speed*k.Gd*k.direction.y):(0<-q*k.direction.x-v*k.direction.y&&(k.o.x-=k.speed*k.Hd*q/t,k.o.y-=k.speed*k.Hd*v/t),0<q*l.direction.x+v*l.direction.y&&(l.o.x+=l.speed*k.Hd*q/t,l.o.y+=l.speed*k.Hd*v/t))}}if(k.update(this.F,e,g))Fe(this,h,a);else{if(this.rk&&1===k.Yd){if(m=k.xa===k.Id)m=k.hc,m=m.xa===m.Id;if(m){m=g;k.xa=0;k.ic=0;Yc(k,m);Zc(k,m);m=k.hc;l=g;m.xa=0;m.ic=0;Yc(m,l);Zc(m,l);m=.5>x(g)?new Uc(k,k.hc):new Uc(k.hc,k);l=a;r=b;v=c;q=g;t=Array;z=m.s;z=Math.round(z.Ec.c(z.jc/255));t=t(z);z=0;for(var C=t.length;z<C;++z){var y=m.yk.S(r,q);(new gc(y)).T(q);l.write(y.body.pattern,v);t[z]=y}m=n(t);for(l=m.next();!l.done;l=m.next())if(l=l.value,f.Eb()<cb.prototype.pe)Be(this,l);else break}}else k.xa=0;k.Yd=0}}};d.C=function(a,b){for(var c=n(this.N),e=c.next();!e.done;e=c.next())e.value.C(a,b)};function Ge(a,b){this.width=a;this.height=b*this.Xb;this.ud=this.vd=this.O=this.small=this.big=null;He(this)}d=Ge.prototype;d.Gf=.14;d.Hf=.65;d.Ed=.55;d.Xb=1.1;d.v=function(a){this.big.v(a);this.small.v(a);this.O.v(a)};d.aa=function(a,b,c){this.big.aa(a,b,c);this.small.aa(a,b,c);this.O.aa(a,b,c)};d.resize=function(a,b,c){this.width=a;this.height=b*this.Xb;He(this,c)};d.Eb=function(){return this.big.Eb()+this.small.Eb()+this.O.Eb()};function He(a,b){b=void 0===b?null:b;var c=.5*Math.min(a.width,a.height),e=a.width,f=a.height,g=a.Hf+1,h=(a.Ed+g)*(a.Ed+g)-2*g*g;g=(g+g)*(f+e);e=Math.min((Math.sqrt(g*g+4*h*(f*f+e*e))-g)/(h+h),c);h=a.Hf*e;g=new p(e,e);var k=new p(a.width-h,a.height-h);f=na(k.B(),g).length()-e-h;var m=Math.atan((k.y-g.y)/(k.x-g.x));c=e!==c;var l=new ad(g,e*(1-a.Gf)),r=new ad(k,h-e*a.Gf);a.width>a.height?(h=new dd([new ed(g,e+.5*f,m,c?Math.PI:.5*Math.PI),new ed(k,h+.5*f,Math.PI+m,2*Math.PI)],e*a.Ed),c?(a.vd=new p(-.5*f,e+1E-6),a.ud=new p(0,1)):(a.vd=new p(e+1E-6,a.height+.5*f),a.ud=new p(1,0))):(h=new dd([new ed(g,e+.5*f,c?1.5*Math.PI:0,c?2*Math.PI+m:m),new ed(k,h+.5*f,.5*Math.PI,Math.PI+m)],e*a.Ed),c?(a.vd=new p(e+1E-6,-.5*f),a.ud=new p(1,0)):(a.vd=new p(a.width+.5*f,e+1E-6),a.ud=new p(0,1)));a.big?(Ee(a.big,l,b),Ee(a.small,r,b),Ee(a.O,h,b)):(a.big=new De(l),a.small=new De(r),a.O=new De(h,!1))}d.jd=function(a,b){return this.big.jd(a,b)||this.small.jd(a,b)||this.O.jd(a,b)||null};d.zb=function(a,b){this.big.F.contains(a,b)?this.big.zb(a,b):this.small.F.contains(a,b)?this.small.zb(a,b):this.O.F.contains(a,b)&&this.O.zb(a,b)};d.contains=function(a,b){return this.big.F.contains(a,b)||this.small.F.contains(a,b)||this.O.F.contains(a,b)};d.Wc=function(a){if(this.big.F.contains(a.position.x,a.position.y))Be(this.big,a);else if(this.small.F.contains(a.position.x,a.position.y))Be(this.small,a);else if(this.O.F.contains(a.position.x,a.position.y))Be(this.O,a);else{var b=a.position.B(),c=a.position.B(),e=a.position.B();this.big.F.Ja(b);this.small.F.Ja(c);var f=na(a.position.B(),b).length(),g=this.big,h=na(a.position.B(),c).length();h<f&&(f=h,b=c,g=this.small);this.O.F.Ja(e)&&na(a.position.B(),e).length()<f&&(b=e,g=this.O);a.Wc(b);Be(g,a)}};d.ac=function(a,b){return Math.min(Math.min(this.small.F.ac(a,b),this.big.F.ac(a,b)),this.O.F.ac(a,b))};d.update=function(a,b,c,e,f){this.small.update(a,b,c,e,this,f);this.big.update(a,b,c,e,this,f);this.O.update(a,b,c,e,this,f)};d.C=function(a,b,c,e,f){if(void 0===f||f)this.big.C(a,c),this.small.C(a,c),this.O.C(a,c);a.C(b,this.width,this.height,e,e)};function Ie(a){this.D=a;this.move=null;this.cursor=new p;this.Zb=new p;this.offset=new p;this.Dg=new p;this.ce=!1}d=Ie.prototype;d.Cj=.13;d.Aj=.4;d.Bj=.1;d.ah=1.5;d.$g=.4;d.Zg=.5;d.update=function(){this.move&&this.move.body.update(this.move.position,this.move.direction,this.move.speed,this.move.size)};d.C=function(a,b,c,e,f){this.move&&(this.move.C(a,f),a.C(b,c,e,!1,!0))};d.de=function(a,b,c){this.Zb.set(this.cursor);this.cursor.x=a;this.cursor.y=b;this.move&&(this.Dg.set(this.cursor).add(this.offset),this.move.moveTo(this.Dg));if(this.ce){b+=this.Zg;var e=this.ah,f=this.$g*(this.cursor.x-this.Zb.x);0<f?c.Ca.Ha(a,b,e,0,0,f):c.Ca.Ha(a,b,e,0,-f,0)}};function Je(a,b,c,e){for(var f=b.i.length;0<f--;){var g=2*Math.PI*x(e),h=b.pattern.ib.c(f/(b.i.length-1)),k=a.Bj*h;c.Ha(b.i[f].x+Math.cos(g)*k,b.i[f].y+Math.sin(g)*k,a.Cj*h,a.Aj*h)}}d.Wc=function(a,b){this.move&&(this.D.Wc(this.move),Je(this,this.move.body,a,b),this.move=null);this.ce=!1};function cb(a,b){var c=Ke;this.h=c;this.random=b;this.Yc=a;this.scale=Le(this,c.width,c.height);this.D=new Ge(c.width/this.scale,c.height/this.scale);this.Gb=new Ie(this.D);this.ga=this.df=this.mc=this.Tc=this.Uc=this.Yb=this.Ra=this.ee=this.$c=this.background=this.ef=this.rd=null;this.fe=!1;this.nf=new Ce(this.D);this.time=this.Qc;this.Ea=0;Me(this)}d=cb.prototype;d.ci=1;d.Qc=1/14;d.ej=.051;d.fj=50;d.pe=80;d.ie=A("--e");d.eg=.005;d.Jj=.1;d.Ij=.5;d.v=function(a){this.D.v(a);this.nf.getState().v(a);this.ga.getState().v(a)};d.aa=function(a){try{this.D.aa(a,this.h.Za,this.mc),this.nf.be(Ae(a)),this.ga.be(Qd(a)),this.fe=!0}catch(b){throw this.f(),b;}};function Me(a){var b=new Ne(a.Yc);a.mc=new Ya(a.h.a,b);var c=a.D;var e=a.h.a,f=[],g=[];c.big.F.Pd(f,g);c.small.F.Pd(f,g);c.O.F.Pd(f,g);(new Ua(c.width,c.height,2,[0],[1])).apply(f);c=new Wa(e,new Va(f,g));a.Uc=c;c=a.D;e=a.h.a;f=[];g=[];c.big.F.Od(f,g);c.small.F.Od(f,g);c.O.F.Od(f,g);(new Ua(c.width,c.height,4,[0],[1])).apply(f);c=new Wa(e,new Va(f,g));a.Tc=c;a.h.kf.Ga(a.Tc);a.h.lf.Ga(a.Tc);a.h.blur.Ga(a.Uc);a.h.vf.Ga(a.Uc);a.h.kd.Ga(a.Uc);a.ga=new Rd(a.h.a,a.D,b);a.h.Me.Ga(a.ga.Ma.Ka);a.rd=new Ia(a.h.a,a.D.width,a.D.height);a.background=new ud(a.h.a,a.h.kf,a.h.va,a.h.width,a.h.height,a.mc,a.scale);a.$c=new Ld(a.h.a,a.D,b);a.ee=new E(a.h.a,a.h.width,a.h.height,a.h.a.RGB,!1,a.h.a.LINEAR);a.Ra=new Ra(a.h.a,a.h.cd,a.D.width,a.D.height);a.Yb=new Sa(a.h.a,a.h.cd,a.D.width,a.D.height,a.random);a.background.Ga(a.Tc);a.h.qc.Ga(a.$c.ef.Ka);a.h.Ad.Ga(a.$c.Ng.Ka);b=new ab(a.h.a,a.D.width,a.D.height,a.h.qc,a.h.kd,a.h.Fg);a.df=new Za(a.h.a,a.D.width,a.D.height,b,a.h.qc,a.h.Ad,a.h.blur,a.h.md);b.f()}function Oe(a){a.mc.f();a.rd.f();a.background.f();a.$c.f();a.ee.f();a.Ra.f();a.Yb.f();a.df.f();a.ga.f();a.Uc.f();a.Tc.f()}function Pe(a,b){var c=Qe;a/=c.scale;b=b/c.scale*c.D.Xb;var e=null!==c.Gb.move?null:c.D.jd(a,b);if(e){var f=c.Gb,g=c.Ra;c=c.random;f.Zb.x=f.cursor.x=a;f.Zb.y=f.cursor.y=b;f.move=e;f.offset.x=e.position.x-f.cursor.x;f.offset.y=e.position.y-f.cursor.y;f.ce=!0;console.log(e);Je(f,e.body,g,c)}else c.D.contains(a,b)&&(c.Ra.Ha(a,b,c.Jj,c.Ij),c.D.zb(a,b)),c=c.Gb,c.Zb.x=c.cursor.x=a,c.Zb.y=c.cursor.y=b,c.ce=!0}d.de=function(a,b){this.Gb.de(a/this.scale,b/this.scale*this.D.Xb,this.Yb)};function Re(){var a=Qe;a.Gb.Wc(a.Ra,a.random)}function Le(a,b,c){return Math.max(a.fj,Math.sqrt(b*b+c*c)*a.ej)}d.resize=function(){this.scale=Le(this,this.h.width,this.h.height);this.D.resize(this.h.width/this.scale,this.h.height/this.scale,this.h.Za);var a=this.ga.state;Oe(this);Me(this);this.ga.be(a);this.fe=!0};d.update=function(){this.nf.update(this.Qc,this.h.Za,this.h.kc,this.mc,this.random);this.D.update(this.h.Za,this.h.kc,this.mc,this.Ra,this.random);this.ga.update(this.Yb,this.Ra,this.random);this.Gb.update();this.h.vf.bf(this.Ra,this.h.cd);this.h.Wg.bf(this.Yb,this.h.cd);1<(this.Ea+=this.eg)&&--this.Ea};d.C=function(a){for(this.time+=Math.min(this.ci,a);this.time>this.Qc;)this.time-=this.Qc,this.update();a=this.time/this.Qc;this.fe&&(this.h.qc.ra(this.ga.filter),this.h.Ad.ra(this.ga.filter),this.h.kd.ra(this.ga.filter));this.rd.target();this.D.C(this.h.Qd,this.h.Za,a,!0);this.rd.blur(this.h.blur);this.ee.target();this.background.C();this.h.lf.C(this.rd,this.h.height,this.scale);this.D.C(this.h.Qd,this.h.Za,a,!1,!1);var b=this.h;b.a.bindFramebuffer(b.a.FRAMEBUFFER,null);b.a.viewport(0,0,b.width,b.height);this.h.a.clearColor(this.ie.r*this.ga.filter.r,this.ie.A*this.ga.filter.A,this.ie.w*this.ga.filter.w,1);this.h.a.clear(this.h.a.COLOR_BUFFER_BIT|this.h.a.DEPTH_BUFFER_BIT);this.h.a.enable(this.h.a.DEPTH_TEST);this.$c.C(this.h.Ad,this.h.qc,this.Yb,a);this.h.kd.C(this.ee.K,this.df.K,this.Ra,this.h.width,this.h.height,this.scale,this.Ea+a*this.eg,a);this.fe=this.ga.C(this.h.Me,a);this.h.a.disable(this.h.a.DEPTH_TEST);this.Gb.C(this.h.Qd,this.h.Za,this.D.width,this.D.height,a)};d.f=function(){Oe(this)};function Se(a){this.Ia=(a=void 0===a?null:a)?Te(a):[];this.wb=0}Se.prototype.toString=function(){return btoa(String.fromCharCode.apply(String,ca(this.Ia)))};function Te(a){return atob(a).split("").map(function(b){return b.charCodeAt(0)})}function J(a){return a.Ia[a.wb++]}function Ue(a,b){a.Ia.push(b&255);a.Ia.push(b>>8&255);a.Ia.push(b>>16&255);a.Ia.push(b>>24&255)}function Xc(a,b){a.Ia.push(b&255);a.Ia.push(b>>8&255)}function N(a,b){a.Ia.push(b&255)}function u(a,b){var c=new ArrayBuffer(4);(new Float32Array(c))[0]=b;Ue(a,(new Int32Array(c))[0])}function Ve(a){return J(a)|J(a)<<8|J(a)<<16|J(a)<<24}function We(a){a=Ve(a);return 0>a?2147483648+(a&2147483647):a}function Wc(a){return J(a)|J(a)<<8}function w(a){var b=new ArrayBuffer(4);(new Int32Array(b))[0]=Ve(a);return(new Float32Array(b))[0]}function Xe(){var a=void 0===a?new Ne:a;var b=void 0===b?Math.floor(Math.random()*Ne.prototype.Jd):b;this.random=a;this.Yc=b;this.buffer=null}function Ye(){var a=Ze,b=new cb(a.Yc,a.random);if(a.buffer)b.aa(a.buffer),a.buffer=null;else for(a=0;1500>a;++a)b.update();return b}Xe.prototype.aa=function(a){this.buffer=a;this.random.aa(a);this.Yc=We(a)};Xe.prototype.v=function(a){var b=new Se;this.random.v(b);Ue(b,this.Yc);a.v(b);return b};function Kd(a,b,c){this.width=a;this.height=b;this.Ok=c;this.values=Array((a+2)*(b+2));for(a=0;a<this.values.length;++a)this.values[a]=x(c)}Kd.prototype.ba=function(a,b,c,e,f){e=e-c-(a-b);return f*(f*(f*e+(a-b-e))+(c-a))+b};Kd.prototype.c=function(a,b){var c=Math.floor(a),e=Math.floor(b);return.5*this.ba(this.ba(this.values[e*this.width+c],this.values[e*this.width+c+1],this.values[e*this.width+c+2],this.values[e*this.width+c+3],a-c),this.ba(this.values[(e+1)*this.width+c],this.values[(e+1)*this.width+c+1],this.values[(e+1)*this.width+c+2],this.values[(e+1)*this.width+c+3],a-c),this.ba(this.values[(e+2)*this.width+c],this.values[(e+2)*this.width+c+1],this.values[(e+2)*this.width+c+2],this.values[(e+2)*this.width+c+3],a-c),this.ba(this.values[(e+3)*this.width+c],this.values[(e+3)*this.width+c+1],this.values[(e+3)*this.width+c+2],this.values[(e+3)*this.width+c+3],a-c),b-e)+.25};function Ne(a){this.n=a=void 0===a?Math.floor(Math.random()*Ne.prototype.Jd):a}d=Ne.prototype;d.Bi=69069;d.Jd=Math.pow(2,32);d.ti=1;function x(a){a.n=(a.Bi*a.n+a.ti)%a.Jd;return a.n/a.Jd}d.v=function(a){Ue(a,this.n)};d.aa=function(a){this.n=We(a)};var $e={alpha:!1,antialias:!0,preserveDrawingBuffer:!0},Z=document.getElementById("renderer"),Nb=Z.getContext("webgl",$e)||Z.getContext("experimental-webgl",$e);if(Nb){Nb.b=Nb.getExtension("OES_vertex_array_object");Nb.getExtension("OES_element_index_uint");var Ze=new Xe,Ob=document.getElementById("wrapper"),af=window.localStorage.getItem("session"),Ke=new Mb,bf=null,Qe=null,qf=!0;Z.width=Ob.clientWidth;Z.height=Ob.clientHeight;window.onresize=function(){if(Z.width!==Ob.offsetWidth||Z.height!==Ob.offsetHeight)Z.width=Ob.offsetWidth,Z.height=Ob.offsetHeight,Ke.resize(Z.width,Z.height),Qe&&Qe.resize()};var rf=function(){window.localStorage.setItem("session",Ze.v(Qe).toString())};if(af)try{Ze.aa(new Se(af)),Qe=Ye()}catch(a){Ze=new Xe,Qe=Ye(),console.warn(a)}else Ze=new Xe,Qe=Ye();bf=new Date;var sf=function(){if(qf){var a=new Date;Qe.C(.001*(a-bf));bf=a;requestAnimationFrame(sf)}};requestAnimationFrame(sf);setInterval(function(){document.hidden||rf()},6E4);Z.addEventListener("mousedown",function(a){a.preventDefault();Pe(a.clientX,a.clientY)});Z.addEventListener("touchstart",function(a){a.preventDefault();Pe(a.changedTouches[0].clientX,a.changedTouches[0].clientY)});Z.addEventListener("mousemove",function(a){Qe.de(a.clientX,a.clientY)});Z.addEventListener("touchmove",function(a){a.preventDefault();Qe.de(a.changedTouches[0].clientX,a.changedTouches[0].clientY)});Z.addEventListener("mouseup",function(){Re()});Z.addEventListener("touchend",function(a){a.preventDefault();Re()});window.onbeforeunload=function(){rf();Qe.f();Ke.f();qf=!1}};</script></body></html>